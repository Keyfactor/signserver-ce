SignServer 3.5.0, 2014-02-28
----------------------------

** Bug
    * [DSS-726] - Empty certificate chain in setproperties gives error

** Improvement
    * [DSS-306] - Initial GlassFish 3.1 support
    * [DSS-393] - Autodetect application server type
    * [DSS-606] - Initial JBoss 7.1/EAP6.1 support
    * [DSS-636] - Display worker name in addition to worked ID when showing status from CLI
    * [DSS-649] - Use EntityManager instead of DataSource in HealthCheck
    * [DSS-664] - Validator should allow key usage digitalSignature and not just non-repudiation/content-commitment
    * [DSS-671] - Upgrade xmlsec library
    * [DSS-674] - Support for allowing any admin with valid certificate to administrate SignServer
    * [DSS-680] - Prompt to ignore certificate/hostname mismatch when connecting with AdminGUI
    * [DSS-681] - Improve source code quality
    * [DSS-697] - Basic XAdES T validator
    * [DSS-700] - Use the available certs from token when verifying XAdES-T
    * [DSS-708] - Option to add currently used certificate to the list of administrators in the GUI
    * [DSS-719] - Use AdminGUI installation dir as base directory for admingui.properties
    * [DSS-722] - Update AdminGUI splash screen
    * [DSS-727] - Support for verifying XAdES containing multiple X509Data
    * [DSS-728] - Sort workers and worker properties in the AdminGUI

** Master Ticket
    * [DSS-713] - Full worker configuration in AdminGUI

** New Feature
    * [DSS-12] - Basic XAdES-BES signer
    * [DSS-147] - Servlet for document/certificate validation
    * [DSS-246] - XAdES-T signer
    * [DSS-256] - Dispatcher based on requesting user
    * [DSS-656] - Support for other signature algorithms in XMLSigner
    * [DSS-657] - Support for validating XML documents with different signature algorithms
    * [DSS-658] - Add a Certificate Validator not doing revocation checking
    * [DSS-672] - Support for ECDSA algorithms in XML Signer and Validator
    * [DSS-676] - Ant target for creating binary dist of AdminGUI
    * [DSS-677] - Offer the AdminGUI binary dist for download from the public web
    * [DSS-682] - Basic XAdES-BES validator
    * [DSS-683] - Support for specifying signature algorithm in XAdESSigner
    * [DSS-684] - Support for specifying commitment type in XAdESSigner
    * [DSS-685] - Revocation checking support for both OCSP and CRL in XAdES Validator
    * [DSS-686] - Support for including intermediate certificates in signed documents in XAdESSigner
    * [DSS-690] - Support for MariaDB
    * [DSS-699] - Support for printing tokens not wrapped in a response
    * [DSS-701] - Support for adding username as ClaimedRole in XAdES documents
    * [DSS-706] - Package systemtests in jars to be run from binary dist
    * [DSS-711] - Support for deleting keys
    * [DSS-717] - Support for having a default PKCS#11 global configuration
    * [DSS-729] - Option to specify RenewalWorker truststore inline
    * [DSS-731] - Add sample DDL with database indices

** Task
    * [DSS-592] - Compile and run on JDK7
    * [DSS-616] - Run performance tests
    * [DSS-703] - Use Maven standard directory layout
    * [DSS-707] - Remove group key service support

** Sub-task
    * [DSS-283] - Support for adding workers in the Admin GUI
    * [DSS-300] - Loading configuration from file in the Admin GUI
    * [DSS-301] - Removing workers in Admin GUI
    * [DSS-678] - Dumping configuration to file from the Admin GUI
    * [DSS-714] - Support for reloading configuration from Admin GUI


SignServer 3.4.3, 2014-02-20
----------------------------

** Bug
    * [DSS-715] - Regression: Test signing not performed as part of getstatus command
    * [DSS-738] - Security issue in bundled library


SignServer 3.4.2, 2013-09-19
----------------------------

** Bug
    * [DSS-644] - Regression: java.trustpassword missing in sample build file
    * [DSS-645] - HSM auto activation not working when signed audit log is used
    * [DSS-654] - ClientCLI over web services not working unless includemodulesinbuild specified
    * [DSS-655] - Demo XML signature certificate can not be verified using demo validator
    * [DSS-687] - Generatekey CLI command not working with slotListIndex

** Improvement
    * [DSS-357] - Just print error message instead of stacktraces when worker classes can not be found
    * [DSS-370] - Update with PKCS11CryptoToken from CESeCore
    * [DSS-639] - Include IssuerSerial in the SigningCertificate attribute for TimeStampSigner
    * [DSS-688] - Option to cache PKCS#11 key reference to increase performance


** New Feature
    * [DSS-646] - Archive all X-Forwarded-For addresses
    * [DSS-647] - Option to start audit log verification from a specified sequence number
    * [DSS-648] - Make signingTime CMS attribute optional for TSA
    * [DSS-670] - Option to include the ordering field in time-stamp tokens even if it has value false


SignServer 3.4.1, 2013-06-11
----------------------------

** Bug
    * [DSS-620] - Unathorized healthcheck queries incorrectly logged
    * [DSS-634] - Double octet string encoded in MSAuthCodeSigner content

** Improvement
    * [DSS-383] - Remove unnecessary properties from signserver_build.properties
    * [DSS-388] - Add @Override annotation to overriden and implemented methods
    * [DSS-477] - Allow to import serial number and issuer DN from a certificate when adding admin rules from the admin GUI
    * [DSS-522] - Add option to set the correct TSA name from the subject DN automatically
    * [DSS-547] - Make all workers report themself as offline if they are misconfigured
    * [DSS-618] - Allow any for authorized IPs in healthcheck
    * [DSS-619] - Add health check rate limiter
    * [DSS-621] - Add DDL for Postgres
    * [DSS-622] - Upgrade to JUnit 4.11
    * [DSS-625] - Support in ListBasedAddressAuthorizer to accept IPv6 addresses in any form
    * [DSS-626] - Support in RemoteAddressAuthorizer to accept IPv6 addresses in any form
    * [DSS-628] - Support in ListBasedAddressAuthorizer for multiple proxies


** New Feature
    * [DSS-338] - Support for generating CSR with ECDSA explicit parameters in AdminGUI and RenewalWorker
    * [DSS-506] - Log worker name in the worker log
    * [DSS-589] - Support for specifying signature algorithm in CMS Signer
    * [DSS-617] - Add a document signer testsuite to the stresstest tool
    * [DSS-629] - Support for signingCertificate attribute in MSAuthCodeTimeStampSigner


SignServer 3.4.0, 2013-04-03
----------------------------
Release Notes - SignServer - Version SignServer 3.4

** Bug
    * [DSS-106] - JUnit tests in SecondStatisticsCollectorTest fails randomly?
    * [DSS-121] - JUnit test NonPersistentStatisticsCollectorTest.testBasics fails randomly
    * [DSS-195] - JUnit test BaseServiceTest.test01BasicService fails randomly?
    * [DSS-495] - NPE in CAToken trying to activate worker without DEFAULTKEY property
    * [DSS-551] - NPE in getSignerCertificateChainBytes if signer is missing the certificate chain property
    * [DSS-577] - Testkey command ignores alias unless -v specified
    * [DSS-578] - Sending a bad request to the TimeStampSigner gives NPE
    * [DSS-597] - Admin GUI fails to log in via webservices when using a JKS keystore
    * [DSS-601] - DB CLI verify reports error if multiple nodes are logging
    * [DSS-604] - Wrong mapping for GroupKeyDataBean for PostgreSQL
    * [DSS-608] - PublicCryptoToken missing in cesecore_client.jar
    * [DSS-611] - StatisticsEntryTest.testGetDelay fails randomly som times

** Improvement
    * [DSS-378] - Make it configurable to skip sending status message in the time-stamp response
    * [DSS-585] - Replace usage of SystemLogger with the CESeCore Security event logger
    * [DSS-590] - Audit log which administrator performed the operations
    * [DSS-600] - Update manual for CESeCore
    * [DSS-612] - Check status of time-stamp response in performance test tool

** New Feature
    * [DSS-575] - Secure logging from CESeCore
    * [DSS-584] - Integration of CESeCore in the build script
    * [DSS-586] - Worker logger using logger from CESeCore
    * [DSS-593] - Support for querying audit log from CLI
    * [DSS-594] - Support for querying audit log in Admin WS
    * [DSS-595] - Support for querying audit log in Admin GUI
    * [DSS-596] - Access group for auditors
    * [DSS-598] - Database CLI for verifying the audit log
    * [DSS-602] - Configurable which fields to log using SecurityEventsWorkerLogger
    * [DSS-603] - Configurable which StatusRepository updates to log


SignServer 3.3.0, 2013-02-18
----------------------------

** Bug
    * [DSS-361] - Renewal worker requires truststore password even when truststore is not used
    * [DSS-380] - NPE trying to activate a worker of type Dispatcher
    * [DSS-408] - Can not archive the same document twice
    * [DSS-442] - Version of server printed by CLI is actually the client version
    * [DSS-461] - Regression: Option reqpolicy missing in timestamp client
    * [DSS-471] - Regression: Exception installing BC provider in timestamp client
    * [DSS-511] - System tests can not be compiled after opening the project with NetBeans IDE 7.2
    * [DSS-550] - Regression: Fix auditlogging in WorkerConfigDataService
    * [DSS-556] - Regression: signserver.sh does not support arguments with comma
    * [DSS-566] - StatusPropertiesWorker requires a cryptotoken to be configured
    * [DSS-576] - AddressAuthorizers should return HTTP 403 (forbidden) and not 401

** Improvement
    * [DSS-239] - Remove the need to use bundled JAX-WS jars
    * [DSS-272] - Improve documentation for archiving to database
    * [DSS-309] - Debian packaging
    * [DSS-314] - Binary distribution
    * [DSS-340] - Create project and vendor branch for EJBCA-util
    * [DSS-346] - Option to take serial number and issuer from certificate when setting up client authorization rules
    * [DSS-356] - Clarify documentation for httpsserver.bindaddress
    * [DSS-362] - Remove the need to set ANT_HOME
    * [DSS-396] - Split SignServer-war into multiple web modules
    * [DSS-409] - Make OldDatabaseArchiver faster and use less space
    * [DSS-422] - Include XML Schema directly in WSDL file
    * [DSS-446] - Clean up, improve and make AdminCLI and ClientCLI pluggable
    * [DSS-456] - Demo page for the CMS Signer
    * [DSS-459] - Create separate jar for JPA entities
    * [DSS-469] - Make web services URL configurable in Client CLI
    * [DSS-476] - Option to take serial number and issuer from certificate when setting up admin authorization rules
    * [DSS-486] - Upgrade to Bouncy Castle 1.47
    * [DSS-490] - Create project and vendor branch for itext
    * [DSS-491] - Create project and vendor branch for openxml4j
    * [DSS-492] - Create project and vendor branch for odftoolkit
    * [DSS-501] - Clean up WorkerFactory
    * [DSS-554] - Replace usage of deprecated Bouncy Castle methods
    * [DSS-562] - Add audit logging for events related to keys, certificates and time-sources
    * [DSS-565] - Include time-stamp token serial number in output from DefaultTimeStampLogger
    * [DSS-567] - Add automatic tests using HSM
    * [DSS-573] - Log all changes to service components
    * [DSS-580] - Print Signer ID in timestamp client

** New Feature
    * [DSS-287] - Plugins should be able to suggest file extension for the returned signed file
    * [DSS-387] - New client web services API
    * [DSS-485] - Debian packaging for Ubuntu 12.04
    * [DSS-516] - Implement MS Authenticode time-stamp signer
    * [DSS-560] - Support for archiving of time-stamp requests
    * [DSS-561] - Configurable time-stamp token serial number length
    * [DSS-563] - Include IP address from X-FORWARDED-FOR header in archive
    * [DSS-564] - AddressAuthorizer supporting X-FORWARDED-FOR and white/black-listing
    * [DSS-570] - Support for choosing signature algorithm for TimeStampSigner
    * [DSS-572] - Leap second support in TimeStamp signer
    * [DSS-574] - Stress test tool
    * [DSS-581] - Leap second handling by not issuing tokens during the change
    * [DSS-582] - Support for Clover test coverage

** Task
    * [DSS-403] - Drop support for clusterclassloader
    * [DSS-437] - Drop support for WSRA
    * [DSS-463] - Drop support for JBoss 4
    * [DSS-473] - Add sub CA certificates to test with
    * [DSS-559] - Upgrade projects to NetBeans IDE 7.2
    * [DSS-571] - Test sign all document types and compare with older version


SignServer 3.2.4, 2012-12-19
----------------------------

** Bug
    * [DSS-524] - Using worker id does not work in Client CLI
    * [DSS-555] - JBoss 5 throws NPE on shutdown of SignServer
    * [DSS-558] - Renewal worker does not use the requested DN in certificate request
    * [DSS-566] - StatusPropertiesWorker requires a cryptotoken to be configured

** Improvement
    * [DSS-535] - Add test cases for TimeStampSigner with other key algorithms than RSA
    * [DSS-553] - Improve feature list at signserver.org

** New Feature
    * [DSS-517] - Installation script contributed by Antoine Louiset


SignServer 3.2.3, 2012-09-28
----------------------------

** Bug
    * [DSS-466] - Client CLI only supports 10 arguments on Windows
    * [DSS-467] - IndexOutOfBoundsException displaying CLI help text on Windows
    * [DSS-468] - Client CLI writes warning on standard output when APPSRV_HOME is not set
    * [DSS-484] - Inserts null value when removing last wsadmin on Oracle
    * [DSS-507] - PDF Signature can not be larger than 15000 bytes
    * [DSS-508] - Sample configuration for renewal worker not functional
    * [DSS-510] - Documentation and CLI references timeStampClient.jar
    * [DSS-514] - Documentation should mention setting up JCE policy files when Oracle JDK is used
    * [DSS-520] - Regression: Timestamp client does not output message digest
    * [DSS-534] - TimeStampSigner signature algorithm should be independent of requested hash algorithm
    * [DSS-537] - Handle CryptoTokenOfflineException thrown from the workers in special cases
    * [DSS-552] - RenewalWorker can not be called using AdminWS with client certificate authentication on JBoss

** Improvement
    * [DSS-482] - Don't use System.out.println for printing messages in the admin CLI wsadmins command
    * [DSS-497] - Test cases for TSA with other hash algorithms than SHA1
    * [DSS-523] - Add upgrade instructions to the documentation
    * [DSS-536] - Check that the timestamp signer certificate is included in the certificate chain
    * [DSS-538] - Add test case checking that disabled workers does not accept requests
    * [DSS-540] - Make it configurable to disable the key usage counter
    * [DSS-541] - Add link to Health check on front page
    * [DSS-546] - Report signer status offline when the TimeStampSigner certificate is missing the EKU
    * [DSS-548] - Signer certificate check in Health check for all Signers

** New Feature
    * [DSS-530] - Support for SignServer without database
    * [DSS-502] - Script for test signing of each different document
    * [DSS-504] - Support for choosing log level for the worker loggers
    * [DSS-509] - Support for supplying filename as request metadata
    * [DSS-527] - Down-for-maintenance support in Health check
    * [DSS-528] - Test signing and certificate chain verification in Health check
    * [DSS-529] - Health check response of TimeStampSigner should consider status of timesource
    * [DSS-531] - Make it configurable to use a database or not
    * [DSS-532] - Create file based data services to use instead of database
    * [DSS-533] - Tool for random stress testing of signings with the no database option

** Task
    * [DSS-478] - Update documentation for setting up the truststore
    * [DSS-483] - Renew test certificates that has expired
    * [DSS-526] - Update doc site looks to be similar to ejbca


SignServer 3.2.2, 2012-03-20
----------------------------

** Bug

    [DSS-439] - Sample code using web services should use HTTPS
    [DSS-444] - Build failure on W7 X64
    [DSS-462] - URL for documentation only working with JBoss 4

** Improvement
    
    [DSS-275] - Restrict http methods other than get and post
    [DSS-291] - Use URL to override workerName HTTP variables
    [DSS-335] - Worker (not timed service) offering signer's status reports
    [DSS-341] - Certificate serial number should be displayed in hex in AdminGUI
    [DSS-347] - Display hostname i title bar of AdminGUI window
    [DSS-399] - Support for HTTPS in timestamp client
    [DSS-434] - Update how-to for Apache Proxy to use ajp
    [DSS-447] - Document the meanings of the different PDF permissions
    [DSS-451] - Log PROCESS_SUCCESS: false when requests fail
    [DSS-458] - Add a worker logger that does not log anything

** New Feature
    [DSS-208] - Repository holding local non-persistent status information
    [DSS-209] - TimeSource that checks the status from the local status service
    [DSS-213] - Dispatching timestamp requests to different timestamp units

** Task
    [DSS-402] - Deprecate clusterclassloader


SignServer 3.2.1, 2011-12-19
----------------------------

** Bug

    [DSS-369] - Ant target test:signserver:runone did not work
    [DSS-371] - Remote EJB worker interface could not be used with ECC with explicit parameters
    [DSS-376] - Switching application server type did not update jndi.properties
    [DSS-407] - Typo in sample configuration for PDFSigner
    [DSS-410] - JavaDoc failed to build
    [DSS-412] - Setting healthcheck properties had no effect
    [DSS-416] - Supplied username and password ignored in one SigningAndValidationWS constructor
    [DSS-418] - Warning about BERTLVObject printed on STDERR
    [DSS-423] - WorkerSessionMock and GlobalConfigurationSessionMock had duplicates
    [DSS-424] - Web service interface did not log XFORWARDEDFOR headers
    [DSS-425] - CRL download should close streams correctly and allow for caching
    [DSS-428] - Archiving API test failed on certain platforms
    [DSS-429] - A PDFSigner unit test failed if the OS language were not English

** Improvement

    [DSS-183] - Improve servlet error handling
    [DSS-241] - JUnit test for archiving
    [DSS-274] - Improve error message when trying to sign PDF with document restrictions
    [DSS-355] - Improved API for archiving
    [DSS-358] - Should be able to set j2ee.web-nohttps=false
    [DSS-368] - Default to not use clusterclassloader
    [DSS-415] - Improve source code quality
    [DSS-435] - Refuse to certify PDFs already certified and refuse to sign when signing is not allowed
    [DSS-438] - Retry failed CRL downloads

** New Feature

    [DSS-194] - Deploy documentation with application
    [DSS-430] - Support for signing PDFs with document restrictions
    [DSS-431] - Support for PDF permissions enforcement
    [DSS-432] - Support for modifying PDF permissions
    [DSS-433] - Support for setting a PDF permissions password

** Task

    [DSS-259] - Include modules in build in the default configuration
    [DSS-406] - Upgrade projects to NetBeans IDE 7.0
    [DSS-414] - JUnit test to show when JCE crypto policy has not been applied


SignServer 3.2.0, 2011-06-30
----------------------------

** Bug
    * [DSS-307] - Client certificate authentication might not work with WS Worker
    * [DSS-344] - Order of issuer DN in SOD reversed comparared to certificate
    * [DSS-349] - Disabled features should not be built
    * [DSS-350] - Enable/include properties for PDFSigner in signserver_build.properties.sample
    * [DSS-374] - Document that RemoteAddressAuthorizer with ALLOW_FROM=null, allow calls from other Workers
    * [DSS-377] - Times services should swallow runtime exceptions
    * [DSS-382] - Certificates used in unit tests needs renewal
    * [DSS-385] - SQL exceptions during second deployment on GlassFish
    * [DSS-395] - ValidationCLI not working with HTTPS
    * [DSS-397] - Certificates used in sample configurations needs renewal
    * [DSS-400] - Spelling error in ServiceStatus

** Improvement
    * [DSS-125] - Divide the project in sub-projects with separate source folders
    * [DSS-128] - GlassFish V2 support
    * [DSS-156] - Remove need for preprocessing Java-files
    * [DSS-302] - Refactoring: KeyTestResult should be in common package
    * [DSS-325] - Upgrade MRTDSODSigner to new LDS structure
    * [DSS-326] - Add unit tests for WS using WSDL from 3.1
    * [DSS-327] - Change to EJB based Web Services
    * [DSS-339] - Property and target for building Client CLI from the main build
    * [DSS-352] - Update latest files from JMRTD/SCUBA
    * [DSS-353] - Verify certificate chain before returning SOD
    * [DSS-381] - JBoss 5.1 support

** New Feature
    * [DSS-148] - Demo frontpage listing all demo web pages
    * [DSS-151] - Certificate renewal from EJBCA
    * [DSS-171] - Possible to use EC certificates with explicit parameters
    * [DSS-172] - ECDSA signatures in MRTD SOD signer
    * [DSS-189] - Audit and transaction logging
    * [DSS-202] - Client CLI for requesting signing and validation from SignServer
    * [DSS-277] - Administration GUI
    * [DSS-281] - Support for key renewal from Admin GUI
    * [DSS-282] - Support for viewing and editing global configuration in the Admin GUI
    * [DSS-285] - Dialog box in Admin GUI to show certificate (path) details
    * [DSS-290] - Option to sign the CSR in the Admin GUI
    * [DSS-312] - Administration WS interface
    * [DSS-324] - Support for Oracle database
    * [DSS-334] - Package log4j configuration in EAR for GlassFish
    * [DSS-337] - Support for generating EC keys in KeyStoreCryptoToken
    * [DSS-343] - Add support for SHA256withRSAandMGF1 in MRTDSODSigner
    * [DSS-366] - Support for specifying service interval in milliseconds

** Task
    * [DSS-243] - Merge SODFile with latest jmrtd upstream
    * [DSS-303] - Fix character encoding of source files with special characters
    * [DSS-328] - Document setup on GlassFish 2.1.1
    * [DSS-330] - Remove the MailSigner build
    * [DSS-332] - Update sample configuration
    * [DSS-336] - Update release targets
    * [DSS-392] - Upgrade commons-logging to latest version (1.1.1)
    * [DSS-394] - Link to French installation guide contributed by asyd
    * [DSS-401] - Upgrade Hibernate and its dependencies


SignServer 3.1.5, 2011-06-29
----------------------------

** Bug
    * [DSS-315] - NPE in TimeStampSigner if certificate is missing
    * [DSS-316] - GenericWSWorker should work with includemodulesinbuild
    * [DSS-363] - Date dependent error in PDFSigner unit test

** Improvement
    * [DSS-321] - HTTPS support in SigningAndValidation API

** New Feature
    * [DSS-232] - ANT target for creating source-only tarball

** Task
    * [DSS-311] - Harden PDFSigner against PDF signature collisions
    * [DSS-329] - Deprecate the MailSigner

