<!doctype html>

<html class="no-js" lang="en" data-vp-page-id="370999809">


    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

    <!-- Primary Meta Tags -->
    <meta name="exp-export-timestamp" content="2025-02-07T07:00:14.753+0000">
    <meta name="exp-page-id" content="370999809">
    <meta name="exp-page-title" content="APK Hash Signer">
    <meta name="exp-page-version" content="4">
    <meta name="exp-page-scroll-page-id" content="6b26aa8f5532f602c589f75e90c21214">
    <meta name="exp-page-created" content="2020-09-08T09:24:42.000+0000">
    <meta name="exp-page-last-modified" content="2024-09-25T07:35:06.540+0000">
    <meta name="exp-page-labels" content="">
    <meta name="exp-page-context-keys" content="">
    <meta name="exp-space-key" content="SSDOCS">
    <meta name="exp-space-title" content="SignServer Documentation">

    <!-- Additional Meta Tags -->
    <meta name="exp-document-id" content="371111034">
    <meta name="exp-document-title" content="SignServer Documentation">
    <meta name="exp-version-status" content="in-progress">
    <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
    <meta name="exp-version-name" content="Working version">
    <meta name="exp-version-description" content="">
    <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
    <meta name="exp-variant-id" content="">
    <meta name="exp-variant-name" content="">
    <meta name="exp-variant-description" content="">
    <meta name="exp-language-code" content="">
    <meta name="exp-language-name" content="">

    <link rel="stylesheet" href="css/app.css">



<script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
    <title>APK Hash Signer</title>

<meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>
    <!-- pageid attribute is deprecated - please use data-vp-page-id on html element instead -->
    <body id="APKHashSigner-top" pageid="370999809" class="flex flex-col" data-confluence-editor-version="v1">
        <div id="vp-js-desktop__navigation__skip-to-navigation-link"></div>




<header class="home-icon-container flex justify-between header hc-header-background-color hc-header-background-color ">
    <div class="header__navigation--logo">
        <a href="SignServer_Documentation.html">
            <img src="_scroll_external/attachments/e415105eb31a/ssdocs" alt="SignServer Documentation" title="SignServer Documentation">
        </a>
    </div>
        <div class="top-bar-right no-print header__navigation--large__menu hc-header-background-color">
    

    <div data-vp-id="search-bar-placeholder" data-vp-component="search-bar" class="vp-search-bar" aria-hidden="true">
        <form action="/search.html" method="GET" class="vp-search-bar__input-container">
            <div data-vp-component="search-input" data-vp-variant="border" class="vp-search-input vp-search-input--border">
                <input type="search" id="search-texbox" autocomplete="off" class="vp-search-input__input" style="margin-right: 0;">
                <div class="vp-search-input__icon" aria-hidden="true">
                    <span class="vp-icon material-icons mdi-magnify w-6 h-6 text-icon-md"></span>
                </div>
            </div>
        </form>
        <div id="search-suggestion-container" class="vp-search-suggestion-panel" data-vp-component="search-suggestion"></div>
        <template id="search-suggestion-option-template">
            <div class="vp-search-suggestion-option-container vp-search-form__suggestion">
                <a class="vp-search-suggestion-option vp-search-form__suggestion" href=""></a>
            </div>
        </template>
    </div>

        </div>
</header>

        <main>



<div class="vp-article vp-container vp-container--with-content-padding article vp-container--full full vp-article--wide">
    <div class="flex">

        <div id="exp-navigation-wrapper" class="hidden lg:block">
            <iframe src="toc.html?pageId=370999809" class="border-0"></iframe>
        </div>


        <div class="vp-article__content-panel flex-auto grid-container full js-loading" id="article-content">
            <article role="article">
                <header>
<nav aria-label="Breadcrumb" role="navigation">
    <div class="breadcrumbs-wrapper">
        <ol class="breadcrumbs breadcrumbs--fit-content js-loading js-loading__stacked js-loading__stacked--breadcrumb">
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Documentation.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Documentation</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Reference.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Reference</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Workers.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Workers</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Signers.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Signers</a>
                </li>
            <li class="breadcrumbs--active js-hide-until-loaded">
                <a href="APK_Hash_Signer.html" target="_self" aria-current="page">APK Hash Signer</a>
            </li>
        </ol>
        <div class="breadcrumbs-wrapper__scroll-mask"></div>
    </div>
</nav>
                    <!-- CSS class article__heading is deprecated and will be removed in the future -->
                    <h1 class="cell vp-article__heading article__heading js-loading js-loading__stacked js-loading__stacked--heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-7af4f803084d3d2552ee0e8e9ff4c14ecb478d7dc952ff279eb54f902ada777b"><span class="js-hide-until-loaded">APK Hash Signer</span></h1>
                </header>
                <section class="page" id="content" role="main">
                    <div id="vp-js-desktop__navigation__skip-to-navigation-target"></div>
                    <div id="main-content" class="wiki-content article__content js-tocBot-content js-hide-until-loaded">
                        <p><style>[data-colorid=x13vn5zgg5]{color:#0e101a} html[data-color-mode=dark] [data-colorid=x13vn5zgg5]{color:#e5e7f1}[data-colorid=xco7meby95]{color:#0e101a} html[data-color-mode=dark] [data-colorid=xco7meby95]{color:#e5e7f1}</style><span style="color: rgb(0,0,0);"><span class="status-macro aui-lozenge aui-lozenge-complete">enterprise</span></span></p><p><span style="color: rgb(0,0,0);">The APK Hash signer has the fully qualified class name: <strong>org.signserver.module.apk.signer.ApkHashSigner</strong></span></p><h2 id="APKHashSigner-Overview" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading"><span style="color: rgb(0,0,0);">Overview</span></h2><p><span style="color: rgb(0,0,0);">The APK Hash Signer can sign hashed data for <a href="Client-Side_Hashing.html" data-linked-resource-id="371000790" data-linked-resource-version="4" data-linked-resource-type="page" data-scroll-target-source-id="371000790" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000790/Client-Side+Hashing" data-scroll-link-target-source-id="371000790">Client-Side Hashing</a> and construction of signed Android Package Kit (APK) files. <span data-colorid="x13vn5zgg5">For more information on Android signing and how to set it up in SignServer, see </span><a href="Setting_up_Android_Signing.html" data-linked-resource-id="370999493" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="370999493" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999493/Setting+up+Android+Signing" data-scroll-link-target-source-id="370999493">Setting up Android Signing</a><span data-colorid="xco7meby95">.</span><br clear="none"></span></p><p><span style="color: rgb(0,0,0);">The signer supports the following types of requests:</span></p><ul><li><span style="color: rgb(0,0,0);"><strong>Pre-request with an empty body</strong>: The result is a pre-response with information containing the signer certificate chain and the following signers. For more information, see&nbsp;<span data-linked-resource-id="399442240" data-linked-resource-version="1" data-linked-resource-type="page">APK Hash Signer#Pre-response Format</span>.<br clear="none"></span></li><li><span style="color: rgb(0,0,0);"><strong>Signing request with a non-empty body</strong>: The result is a plain signature, as when using the <a href="Plain_Signer.html" data-linked-resource-id="370999934" data-linked-resource-version="1" data-linked-resource-type="page" data-scroll-target-source-id="370999934" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999934/Plain+Signer" data-scroll-link-target-source-id="370999934">Plain SIgner</a>.</span></li></ul><h2 id="APKHashSigner-AvailableProperties" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading"><span style="color: rgb(0,0,0);">Available Properties</span></h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1" style="width: 263.0px;"></colgroup><colgroup span="1"><col span="1" style="width: 1816.0px;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Property</span></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Description</span></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">SIGNATUREALGORITHM</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Property specifying the algorithm used to sign the data. The default value depends on the signing key: NONEwithECDSA for ECDSA keys, otherwise NONEwithRSA.</span></p><p><span style="color: rgb(0,0,0);">The algorithms NONEwithRSA and NONEwithECDSA are also supported and should be used when hash digest is supplied for signing not the data itself. When using the NONEwithRSA algorithm, the input format should be specified according to</span> <a shape="rect" href="https://tools.ietf.org/html/rfc3447" class="external-link scroll-external-link" rel="nofollow" data-scroll-link-type="default" data-scroll-link-target="https://tools.ietf.org/html/rfc3447" data-scroll-link-local="false">RFC#3447</a>. When using SignClient with client-side hashing and construction, the signer should use an RSA or ECDSA key and use NONEwithRSA, or NONEwithECDSA (the default if not configured). Optional.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">LOGREQUEST_DIGESTALGORITHM</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Specifies the algorithm used to create the message digest (hash) of the request document to put in the log. Default: SHA256. Optional.<br clear="none"></span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">DO_LOGREQUEST_DIGEST</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Specifies if the message digest of the requested document should be put in the log. Default: true. Optional.<br clear="none"></span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTHER_SIGNERS</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">When requesting a pre-response (by sending a request with an empty request body), specify the signers whose names and certificate chains to include in the response. Optional.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p><span style="color: rgb(0,0,0);">LINEAGE_FILE_CONTENT <span class="confluence-anchor-link" id="APKHashSigner-LINEAGE_FILE_CONTENT"></span><span class="confluence-anchor-link" id="LINEAGE_FILE_CONTENT"></span><br clear="none"></span></p></div></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">The base 64-encoded content of a lineage file to include. Optional.</span></p></td></tr></tbody></table></div><h3 id="APKHashSigner-WorkerLogFields" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-h3 scroll-original-h3 scroll-relative-h3 scroll-custom-section-heading scroll-document-section-heading"><span style="color: rgb(0,0,0);">Worker Log Fields</span></h3><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Field</span></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Description</span></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">REQUEST_DIGEST</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">A message digest (hash) for the request document in HEX encoding.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">REQUEST_DIGEST_ALGORITHM</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">The name of the message digest (hash) algorithm used for the request digest in the log.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">RESPONSE_ENCODED</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">The response document (plain signature) in base64 encoding.</span></p></td></tr></tbody></table></div><h3 id="APKHashSigner-Pre-responseFormat" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-h3 scroll-original-h3 scroll-relative-h3 scroll-custom-section-heading scroll-document-section-heading"><span style="color: rgb(0,0,0);">Pre-response Format</span></h3><p><span style="color: rgb(0,0,0);">The pre-response is encoded using key/value pairs (KEY=Value), in the same manner as used in Java properties files.</span></p><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Field</span></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><span style="color: rgb(0,0,0);">Description</span></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p><span style="color: rgb(0,0,0);">SIGNER_CERTIFICATE_CHAIN <span class="confluence-anchor-link" id="APKHashSigner-SIGNER_CERTIFICATE_CHAIN"></span><span class="confluence-anchor-link" id="SIGNER_CERTIFICATE_CHAIN"></span><br clear="none"></span></p></div></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Semicolon-separated base 64-encoded certificates of the signer's own signer certificate chain.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">NUMBER_OF_OTHER_SIGNERS</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Number of other signers whose names and certificates are to be included in the response.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">LINEAGE_FILE_CONTENT</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">The base 64-encoded content of the lineage file, when one is configured with the corresponding worker property <span data-linked-resource-id="399442240" data-linked-resource-version="1" data-linked-resource-type="page">APK Hash Signer#LINEAGE_FILE_CONTENT</span>.<br clear="none"></span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTHER_SIGNER_n.NAME</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Name of other signer with index n. Index is 0-based.</span></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">OTHER_SIGNER_n.CERTIFICATE_CHAIN</span></p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><span style="color: rgb(0,0,0);">Certificate chain of other signer with index n. Index is 0-based. Certificate chain uses the same encoding as for <span data-linked-resource-id="399442240" data-linked-resource-version="1" data-linked-resource-type="page">APK Hash Signer#SIGNER_CERTIFICATE_CHAIN</span>.</span></p></td></tr></tbody></table></div>
<nav id="ht-post-nav">
        <a href="APK_Signer.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>APK Signer</span>
        </a>

        <a href="APK_Lineage_Signer.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>APK Lineage Signer</span>
        </a>
</nav>
                    </div>
                </section>
            </article>
        </div>

        <div class="vp-article__aside-right flex-shrink-0 w-1/6 article__toc hidden xl:block no-print">
            <div class="vp-scrollable-container vp-scrollable-container--hidden-scrollbars">
                <div class="js-tocBot">
                                    </div>
            </div>
        </div>

    </div>
</div>
        </main>


        <div id="vp-js-mobile__navigation">
            <div tabindex="-1" class="vp-mobile-navigation__trigger fixed outline-none z-mobile-menu-trigger">
                <button type="button" class="vp-button vp-button--variant-floating-action vp-mobile-navigation__button flex items-center justify-center" aria-label="navigation.open.label">
                    <div class="vp-mobile-navigation__button__icon relative">
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                    </div>
                </button>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>