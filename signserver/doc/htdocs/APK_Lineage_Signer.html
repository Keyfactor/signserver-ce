<!doctype html>

<html class="no-js" lang="en" data-vp-page-id="370999813">


    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

    <!-- Primary Meta Tags -->
    <meta name="exp-export-timestamp" content="2024-11-07T13:05:00.263+0000">
    <meta name="exp-page-id" content="370999813">
    <meta name="exp-page-title" content="APK Lineage Signer">
    <meta name="exp-page-version" content="3">
    <meta name="exp-page-scroll-page-id" content="944f89a6a6104421f1cf53f5c0147034">
    <meta name="exp-page-created" content="2020-05-08T09:09:08.000+0000">
    <meta name="exp-page-last-modified" content="2024-04-02T16:40:03.489+0000">
    <meta name="exp-page-labels" content="code,signserveree">
    <meta name="exp-page-context-keys" content="">
    <meta name="exp-space-key" content="SSDOCS">
    <meta name="exp-space-title" content="SignServer Documentation">

    <!-- Additional Meta Tags -->
    <meta name="exp-document-id" content="371111034">
    <meta name="exp-document-title" content="SignServer Documentation">
    <meta name="exp-version-status" content="in-progress">
    <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
    <meta name="exp-version-name" content="Working version">
    <meta name="exp-version-description" content="">
    <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
    <meta name="exp-variant-id" content="">
    <meta name="exp-variant-name" content="">
    <meta name="exp-variant-description" content="">
    <meta name="exp-language-code" content="">
    <meta name="exp-language-name" content="">

    <link rel="stylesheet" href="css/app.css">



<script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
    <title>APK Lineage Signer</title>

<meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>
    <!-- pageid attribute is deprecated - please use data-vp-page-id on html element instead -->
    <body id="APKLineageSigner-top" pageid="370999813" class="flex flex-col" data-confluence-editor-version="v1">
        <div id="vp-js-desktop__navigation__skip-to-navigation-link"></div>




<header class="home-icon-container flex justify-between header hc-header-background-color hc-header-background-color ">
    <div class="header__navigation--logo">
        <a href="SignServer_Documentation.html">
            <img src="_scroll_external/attachments/e415105eb31a/ssdocs" alt="SignServer Documentation" title="SignServer Documentation">
        </a>
    </div>
        <div class="top-bar-right no-print header__navigation--large__menu hc-header-background-color">
    

    <div data-vp-id="search-bar-placeholder" data-vp-component="search-bar" class="vp-search-bar" aria-hidden="true">
        <form action="/search.html" method="GET" class="vp-search-bar__input-container">
            <div data-vp-component="search-input" data-vp-variant="border" class="vp-search-input vp-search-input--border">
                <input type="search" id="search-texbox" autocomplete="off" class="vp-search-input__input" style="margin-right: 0;">
                <div class="vp-search-input__icon" aria-hidden="true">
                    <span class="vp-icon material-icons mdi-magnify w-6 h-6 text-icon-md"></span>
                </div>
            </div>
        </form>
        <div id="search-suggestion-container" class="vp-search-suggestion-panel" data-vp-component="search-suggestion"></div>
        <template id="search-suggestion-option-template">
            <div class="vp-search-suggestion-option-container vp-search-form__suggestion">
                <a class="vp-search-suggestion-option vp-search-form__suggestion" href=""></a>
            </div>
        </template>
    </div>

        </div>
</header>

        <main>



<div class="vp-article vp-container vp-container--with-content-padding article vp-container--full full vp-article--wide">
    <div class="flex">

        <div id="exp-navigation-wrapper" class="hidden lg:block">
            <iframe src="toc.html?pageId=370999813" class="border-0"></iframe>
        </div>


        <div class="vp-article__content-panel flex-auto grid-container full js-loading" id="article-content">
            <article role="article">
                <header>
<nav aria-label="Breadcrumb" role="navigation">
    <div class="breadcrumbs-wrapper">
        <ol class="breadcrumbs breadcrumbs--fit-content js-loading js-loading__stacked js-loading__stacked--breadcrumb">
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Documentation.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Documentation</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Reference.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Reference</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Workers.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Workers</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Signers.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Signers</a>
                </li>
            <li class="breadcrumbs--active js-hide-until-loaded">
                <a href="APK_Lineage_Signer.html" target="_self" aria-current="page">APK Lineage Signer</a>
            </li>
        </ol>
        <div class="breadcrumbs-wrapper__scroll-mask"></div>
    </div>
</nav>
                    <!-- CSS class article__heading is deprecated and will be removed in the future -->
                    <h1 class="cell vp-article__heading article__heading js-loading js-loading__stacked js-loading__stacked--heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-28081f894939760e960effe883f24160db8974a5beac3e9a566e5e0bbae2aa7b"><span class="js-hide-until-loaded">APK Lineage Signer</span></h1>
                </header>
                <section class="page" id="content" role="main">
                    <div id="vp-js-desktop__navigation__skip-to-navigation-target"></div>
                    <div id="main-content" class="wiki-content article__content js-tocBot-content js-hide-until-loaded">
                        <p><style>[data-colorid=xuliq8lpw4]{color:#0e101a} html[data-color-mode=dark] [data-colorid=xuliq8lpw4]{color:#e5e7f1}[data-colorid=wr5xmxu2b8]{color:#0e101a} html[data-color-mode=dark] [data-colorid=wr5xmxu2b8]{color:#e5e7f1}[data-colorid=kmq1levre1]{color:#0e101a} html[data-color-mode=dark] [data-colorid=kmq1levre1]{color:#e5e7f1}[data-colorid=eue8yanb24]{color:#0e101a} html[data-color-mode=dark] [data-colorid=eue8yanb24]{color:#e5e7f1}[data-colorid=gyouf18tz5]{color:#0e101a} html[data-color-mode=dark] [data-colorid=gyouf18tz5]{color:#e5e7f1}[data-colorid=kk8vtcijix]{color:#0e101a} html[data-color-mode=dark] [data-colorid=kk8vtcijix]{color:#e5e7f1}[data-colorid=jg1r8l1kma]{color:#0e101a} html[data-color-mode=dark] [data-colorid=jg1r8l1kma]{color:#e5e7f1}[data-colorid=hzdm6w52my]{color:#0e101a} html[data-color-mode=dark] [data-colorid=hzdm6w52my]{color:#e5e7f1}[data-colorid=o0qd3mn290]{color:#0e101a} html[data-color-mode=dark] [data-colorid=o0qd3mn290]{color:#e5e7f1}</style><span class="status-macro aui-lozenge aui-lozenge-complete">enterprise</span></p><p><span style="color: rgb(0,0,0);">The signer has the fully qualified class name: <strong>org.signserver.module.apk.signer.ApkLineageSigner</strong></span></p><h2 id="APKLineageSigner-Overview" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Overview</h2><p><span data-colorid="o0qd3mn290">The APK Lineage Signer supports Android Package Kit (APK) key rotation. Key rotation supports signing with a new key by rolling over to the new key using a lineage file. </span></p><p><span data-colorid="eue8yanb24">The APK Lineage Signer allows you to print the content of an APK lineage file and update it, that is, changing the capabilities of one of the signers. This requires that the APK Lineage Signer points to the <a href="APK_Signer.html" data-linked-resource-id="370999805" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="370999805" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999805/APK+Signer" data-scroll-link-target-source-id="370999805">APK Signer</a> you want to modify in the lineage file (by setting the&nbsp;</span><span data-colorid="hzdm6w52my"><a href="APK_Lineage_Signer.html#APKLineageSigner-OTHER_SIGNERS" data-scroll-target-source-id="370999813" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999813/APK+Lineage+Signer#src-370999813_APKLineageSigner-OTHER_SIGNERS" data-scroll-link-target-source-id="370999813">OTHER_SIGNERS</a></span><span data-colorid="kk8vtcijix">&nbsp;property). The lineage file is then sent in together with the updated capability options and returns an updated lineage file.</span></p><p><span data-colorid="gyouf18tz5">Note that this signer is configured&nbsp;</span><em><span data-colorid="jg1r8l1kma">without</span></em><span data-colorid="wr5xmxu2b8">&nbsp;a crypto token, as no crypto token is used from this signer but instead from the other signers.</span></p><p><span data-colorid="xuliq8lpw4">For more information on Android signing and how to set it up in SignServer, see&nbsp;</span><a href="Setting_up_Android_Signing.html" data-linked-resource-id="370999493" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="370999493" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999493/Setting+up+Android+Signing" data-scroll-link-target-source-id="370999493">Setting up Android Signing</a><span data-colorid="kmq1levre1">.</span></p><h2 id="APKLineageSigner-AvailableProperties" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Available Properties</h2><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 73.7003%;"><colgroup span="1"><col span="1" style="width: 17.1547%;"></colgroup><colgroup span="1"><col span="1" style="width: 74.2039%;"></colgroup><colgroup span="1"><col span="1" style="width: 8.6189%;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Property</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th><th colspan="1" rowspan="1" style="text-align: center;" class="confluenceTh"><p>Required</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p>OTHER_SIGNERS <span class="confluence-anchor-link" id="APKLineageSigner-OTHER_SIGNERS"></span><span class="confluence-anchor-link" id="OTHER_SIGNERS"></span></p></div></td><td colspan="1" rowspan="1" class="confluenceTd"><p><a href="APK_Signer.html" data-linked-resource-id="370999805" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="370999805" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999805/APK+Signer" data-scroll-link-target-source-id="370999805">APK Signer</a>&nbsp;to update lineage for. Specify exactly one signer, pointing out the signer to update in the lineage.</p></td><td colspan="1" rowspan="1" style="text-align: center;" class="confluenceTd"><p><img class="emoticon emoticon-tick scroll-document-image" src="_scroll_external/icons/fc5bbb3de65b/check.png" width="16" height="16" alt="(bock)"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SET_INSTALLED_DATA</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Specifies the installed data capability of the signer in the updated lineage (true or false), if set. Default: unset.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SET_SHARED_UID</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Specifies&nbsp;the shared UID capability of the signer in the updated lineage (true or false), if set. Default: unset.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SET_PERMISSION</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Specifies&nbsp;the permission capability of the signer in the updated lineage (true or false), if set. Default: unset.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SET_ROLLBACK</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Specifies&nbsp;the rollback capability of the signer in the updated lineage (true or false), if set. Default: unset.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SET_AUTH</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Specifies&nbsp;the auth capability of the signer in the updated lineage (true or false), if set. Default: unset.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p><br clear="none"></p></td></tr></tbody></table></div><h2 id="APKLineageSigner-RequestParameters" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Request Parameters</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1" style="width: 115.0px;"></colgroup><colgroup span="1"><col span="1" style="width: 686.0px;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Property</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>PRINT_CERTS</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>If set to <strong>true</strong>, the process output is a textual representation of the signers in the supplied lineage file instead of an updated lineage. Accepted values: <strong>true</strong> or <strong>false.</strong> If set to <strong>false</strong> (or not included), the output is the updated lineage for the specified signer (default).</p></td></tr></tbody></table></div><h2 id="APKLineageSigner-WorkerLogFields" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Worker Log Fields</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Field</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>REQUEST_DIGEST&nbsp;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>A message digest (hash) for the request document in hex encoding.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>REQUEST_DIGEST_ALGORITHM&nbsp;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>The name of the message digest (hash) algorithm used for the request digest in the log.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>RESPONSE_DIGEST&nbsp;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>A message digest (hash) for the response document in HEX encoding.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>RESPONSE_DIGEST_ALGORITHM&nbsp;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>The name of the message digest (hash) algorithm used for the response digest in the log.</p></td></tr></tbody></table></div>
<nav id="ht-post-nav">
        <a href="APK_Hash_Signer.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>APK Hash Signer</span>
        </a>

        <a href="APK_Rotate_Signer.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>APK Rotate Signer</span>
        </a>
</nav>
                    </div>
                </section>
            </article>
        </div>

        <div class="vp-article__aside-right flex-shrink-0 w-1/6 article__toc hidden xl:block no-print">
            <div class="vp-scrollable-container vp-scrollable-container--hidden-scrollbars">
                <div class="js-tocBot">
                                    </div>
            </div>
        </div>

    </div>
</div>
        </main>


        <div id="vp-js-mobile__navigation">
            <div tabindex="-1" class="vp-mobile-navigation__trigger fixed outline-none z-mobile-menu-trigger">
                <button type="button" class="vp-button vp-button--variant-floating-action vp-mobile-navigation__button flex items-center justify-center" aria-label="navigation.open.label">
                    <div class="vp-mobile-navigation__button__icon relative">
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                    </div>
                </button>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>