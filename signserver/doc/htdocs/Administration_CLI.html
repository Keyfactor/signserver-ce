<!doctype html>

<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">

        <link rel="icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

        <!-- Primary Meta Tags -->
        <meta name="exp-export-timestamp" content="2024-10-09T09:36:41.423+0000">
        <meta name="exp-page-id" content="371000510">
        <meta name="exp-page-title" content="Administration CLI">
        <meta name="exp-page-version" content="5">
        <meta name="exp-page-scroll-page-id" content="123673bf4c11d1f44ca3486c688bad0d">
        <meta name="exp-page-created" content="2023-02-28T12:27:29.000+0000">
        <meta name="exp-page-last-modified" content="2024-09-26T14:42:28.168+0000">
        <meta name="exp-page-labels" content="format,table">
        <meta name="exp-page-context-keys" content="">
        <meta name="exp-space-key" content="SSDOCS">
        <meta name="exp-space-title" content="SignServer Documentation">

        <!-- Additional Meta Tags -->
        <meta name="exp-document-id" content="371111034">
        <meta name="exp-document-title" content="SignServer Documentation">
        <meta name="exp-version-status" content="in-progress">
        <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
        <meta name="exp-version-name" content="Working version">
        <meta name="exp-version-description" content="">
        <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
        <meta name="exp-variant-id" content="">
        <meta name="exp-variant-name" content="">
        <meta name="exp-variant-description" content="">
        <meta name="exp-language-code" content="">
        <meta name="exp-language-name" content="">

        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/image-dimensions.css">


            
            
<script src="js/search.js"></script>
            <script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
        <title>Administration CLI</title>

    <meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>

    <body id="AdministrationCLI-top" data-pageid="371000510" data-confluence-editor-version="v2" data-confluence-deployment-type="CLOUD">

        <div class="exp-grid-container">

            <header class="exp-header"></header>

            <div class="exp-logo">
                <a href="SignServer_Documentation.html">
                    <span class="exp-logo-image" style="background-image: url(_scroll_external/attachments/e415105eb31a/ssdocs)" alt="SignServer Documentation" title="SignServer Documentation"></span>
                </a>
            </div>

            <div class="exp-document-title">
                <h1 class="exp-document-title-heading scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h1 scroll-relative-h1" data-scroll-heading-rank="1" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="1" id="no-src_generated-id-5873a84e9967fd1de05630f7b650bf33e6133cc5b6e7657ecda65c25f58d21c8">
                    <a href="SignServer_Documentation.html">
                        SignServer Documentation
                    </a>
                </h1>
            </div>

<div class="exp-search-container">
    <input type="search" id="search-textbox" autocomplete="off" class="exp-search-input" style="margin-right: 0;">
    <div class="exp-search-input-icon">
        <svg data-exp-id="magnifier-icon" data-exp-component="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewbox="0 0 20 20" fill="none" aria-hidden="true">
            <path d="M8.99452 14.5C10.5121 14.5 11.809 13.9669 12.8854 12.9007C13.9618 11.8345 14.5 10.5361 14.5 9.00548C14.5 7.48794 13.9631 6.19097 12.8893 5.11458C11.8155 4.03819 10.519 3.5 9 3.5C7.46786 3.5 6.16816 4.0369 5.1009 5.11071C4.03363 6.18453 3.5 7.48096 3.5 9C3.5 10.5321 4.0331 11.8318 5.09929 12.8991C6.1655 13.9664 7.46391 14.5 8.99452 14.5ZM9 16C8.02913 16 7.11974 15.816 6.27185 15.4479C5.42395 15.0799 4.68056 14.5799 4.04167 13.9479C3.40278 13.316 2.90278 12.576 2.54167 11.728C2.18056 10.88 2 9.97053 2 8.99956C2 8.04152 2.18403 7.13542 2.55208 6.28125C2.92014 5.42708 3.41864 4.68387 4.04758 4.0516C4.67653 3.41935 5.41569 2.91935 6.26508 2.5516C7.11449 2.18387 8.02548 2 8.99806 2C9.95769 2 10.8646 2.18403 11.7188 2.55208C12.5729 2.92014 13.316 3.42014 13.9479 4.05208C14.5799 4.68403 15.0799 5.42612 15.4479 6.27835C15.816 7.13058 16 8.0381 16 9.00094C16 9.83365 15.8615 10.6213 15.5846 11.3638C15.3078 12.1062 14.9254 12.7836 14.4375 13.3958L18 16.9583L16.9375 18L13.375 14.4583C12.7668 14.9459 12.0939 15.3247 11.3564 15.5948C10.6188 15.8649 9.83333 16 9 16Z" fill="currentColor" />
        </svg>
    </div>
    <div id="search-suggestion-container" class="exp-search-suggestion-panel" data-exp-component="search-suggestion"></div>
    <template id="exp-search-suggestion-option-template">
        <div class="exp-search-suggestion-option-container search-form-suggestion">
            <a class="exp-search-suggestion-option search-form-suggestion" href=""></a>
        </div>
    </template>
</div>


            <nav class="exp-sidebar-navigation">
                <div class="exp-sidebar-navigation-sticky-wrapper">
                    <iframe src="toc.html?pageId=371000510" border="0"></iframe>
                </div>

            </nav>


            <nav aria-label="Breadcrumb" class="exp-breadcrumbs-wrapper">
                <ol class="breadcrumbs">
                        <li class="breadcrumb">
                            <a href="SignServer_Documentation.html" rel="prev" target="_self">SignServer Documentation</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="SignServer_Reference.html" rel="prev" target="_self">SignServer Reference</a>
                        </li>
                        <li class="breadcrumb">
                            <a href="SignServer_User_Interfaces.html" rel="prev" target="_self">SignServer User Interfaces</a>
                        </li>
                    <li class="breadcrumb active" aria-current="page">
                        Administration CLI
                    </li>
                </ol>
            </nav>


            <main class="exp-content">
                <article role="article">

                    <header>
                        <h1 class="article-heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-57454a45896ae22e89cb28413cb9ac62252624ddc81b73965f606a8a8b432476">
                            Administration CLI
                        </h1>
                    </header>

                    <section class="page" id="content" role="main">
                        <div id="main-content" class="wiki-content article-content js-tocBot-content">
                            <p>The SignServer Administration CLI (AdminCLI) is one of the available interfaces to administrate SignServer. It supports configuration of workers and associated key management as well as querying the audit log and archive.</p><p>Other options for administration includes the <a href="Administration_Web.html" data-linked-resource-id="371000514" data-linked-resource-version="3" data-linked-resource-type="page" data-scroll-target-source-id="371000514" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000514/Administration+Web" data-scroll-link-target-source-id="371000514">Administration Web</a> and the <a href="Admin_WS_Interface.html" data-linked-resource-id="370999665" data-linked-resource-version="1" data-linked-resource-type="page" data-scroll-target-source-id="370999665" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999665/Admin+WS+Interface" data-scroll-link-target-source-id="370999665">Administration Web Services</a> interfaces.</p><p>The SignServer administration command line interface (Admin CLI) is started using <code>bin/signserver</code> (or <code>bin/signserver.cmd</code> for Windows).</p><p>Every worker is identified by an ID and an optional name that can be used in all CLI commands.</p><p>You can configure a worker while it is in production since all configuration commands are cached until a reload command is issued and the configuration becomes active.</p><p>The following describes the SignServer Administration CLI (AdminCLI) commands:</p><h2 id="AdministrationCLI-GeneralCommands" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">General Commands</h2><h3 id="AdministrationCLI-getstatus" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">getstatus</h3><p>Returns the status of the given worker, stating if its crypto token is active or not, and the loaded 'active' configuration. It is possible to get a&nbsp;<em>brief</em>&nbsp;summary or a&nbsp;<em>complete</em>&nbsp;listing for one worker or all configured workers. If all workers are displayed, all the global configuration parameters will also be displayed.</p><h3 id="AdministrationCLI-getconfig" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">getconfig</h3><p>Returns the current worker or global configuration depending on options. Note that for worker configuration, this configuration might be inactive until a&nbsp;<code>reload</code>&nbsp;command is issued.</p><h3 id="AdministrationCLI-setproperty" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">setproperty</h3><p>Sets a custom property used by the worker or crypto token. For available properties, refer to the respective section in the&nbsp;<a href="SignServer_Reference.html" data-linked-resource-id="370999707" data-linked-resource-version="3" data-linked-resource-type="page" data-scroll-target-source-id="370999707" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999707/SignServer+Reference" data-scroll-link-target-source-id="370999707">SignServer Reference</a> for the given Worker and CryptoToken.</p><h3 id="AdministrationCLI-getproperty" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">getproperty</h3><p>List the value of a worker or global property.</p><p>Usage:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver getproperty &lt;signerid | signerName | global | node&gt; &lt;propertykey&gt;</code></div>
</div>
</div><h3 id="AdministrationCLI-setproperties" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">setproperties</h3><p>Used to batch a set of properties, both for the global and worker configuration. The command can be used to configure a Signer in a test environment, dump all the properties and upload it into production.</p><p>The <code>setproperties</code> command reads all the configuration properties form a property file, and depending on the contents of the key, it then sets the given property. All properties are set according to the following defined rule set.</p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="18d75dd7-b9a5-4747-85bb-98f51d9c41e1" class="confluenceTable"><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Rule</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Comment</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Properties starting with id&lt;num&gt;.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Sets the property to the value of the given ID to the worker with the given id.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Properties starting with name&lt;name&gt;.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Sets&nbsp;the property to a worker with the given name. If the name does not exists, a unique ID will be generated and assigned.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Property keys containing GENID&lt;NUM&gt;, example WORKERGENID1 or GLOB. WORKERGENID1</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>The SignServer will find a free unique ID and assign substitute all GENID&lt;num&gt; with this ID.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Properties starting with glob.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Sets&nbsp;a global property with global scope.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Properties starting with node.</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Sets&nbsp;a global property with node scope.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>Properties starting with -&lt;other prefix&gt;&lt;value&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Removes the property, either worker or global.</p></td></tr></tbody></table></div><p>For examples, see the directory <code>sample-configs</code>.</p><h3 id="AdministrationCLI-removeproperty" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">removeproperty</h3><p>Removes a configured property.</p><h3 id="AdministrationCLI-dumpproperties" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">dumpproperties</h3><p>Dumps all configured properties for one or all workers in the system into a property file. If the configuration for one worker is dumped, the&nbsp;<code>dumpproperties</code> tool can be used to transfer the configuration from one installation to another. If all configurations are dumped, it can be used as a backup tool.</p><h3 id="AdministrationCLI-uploadsignercertificate" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">uploadsignercertificate</h3><p>Used to upload the certificate when the worker only needs the actual signing certificate and not the entire chain.</p><h3 id="AdministrationCLI-uploadsignercertificatechain" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">uploadsignercertificatechain</h3><p>Used when uploading a complete certificate chain to the worker.</p><p>Note that the correct command to use for upload depends on the worker and crypto token used.</p><h3 id="AdministrationCLI-importcertificatechain" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">importcertificatechain</h3><p>Used to import a certificate chain into a crypto token. It takes a worker ID of the crypto worker (or a worker ID of a worker with the crypto token configured in the legacy way), and a path pointing to a file containing the certificate chain and a key alias to import to. Currently supported by the PKCS11 and keystore crypto token implementations.</p><h3 id="AdministrationCLI-generatecertreq" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">generatecertreq</h3><p>Used to generate a certificate request for a worker to be signed by a certificate authority. The command takes distinguished name and signature algorithm as parameters, and writes the request in PEM format to file. An optional key alias can be specified to generate a request given a specific key alias from the crypto token.</p><h3 id="AdministrationCLI-activatecryptotoken" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">activatecryptotoken</h3><p>Used to activate crypto tokens. Authentication code is usually the PIN used to unlock the keys on the HSM. Not used if the token is set to auto-activation.</p><h3 id="AdministrationCLI-deactivatecryptotoken" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">deactivatecryptotoken</h3><p>Brings a crypto token off-line. Not used if token is set to auto-activation.</p><h3 id="AdministrationCLI-renewsigner" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">renewsigner</h3><p>Sends a request for renewal of the specified worker to the specified renewal worker. If the authcode parameter is omitted, the command will renew the certificate without an authcode, assuming the crypto token is auto-activated, or the worker is using a separate crypto worker (recommended). To use the previous behavior of prompting for the authcode, specify the <code>-authprompt</code> option. When the authcode is not passed as a parameter or prompted for, an explicit activation of the token will not be performed. For more information, see&nbsp;<a href="RenewalWorker.html" data-linked-resource-id="371000078" data-linked-resource-version="3" data-linked-resource-type="page" data-scroll-target-source-id="371000078" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000078/RenewalWorker" data-scroll-link-target-source-id="371000078">RenewalWorker</a>.</p><h2 id="AdministrationCLI-AuthorizationRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Authorization Related</h2><p>Authorization related commands are used to configure the client authorization rules for a worker when the <a href="Client_Certificate_Authorizer.html" data-linked-resource-id="371000217" data-linked-resource-version="1" data-linked-resource-type="page" data-scroll-target-source-id="371000217" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000217/Client+Certificate+Authorizer" data-scroll-link-target-source-id="371000217">Client Certificate Authorizer</a> is used as AUTHTYPE.</p><h3 id="AdministrationCLI-authorizedclientsauthorizedclients" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">authorizedclients <span class="confluence-anchor-link" id="AdministrationCLI-authorizedclients"></span><span class="confluence-anchor-link" id="authorizedclients"></span></h3><p>Command for adding, removing or listing a worker's client authorization rules. Replaces the legacy commands <em>addauthorizedclient</em>, <em>removeauthorizedclient</em> and <em>listauthorizedclient</em>.</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">Usage: signserver authorizedclients -worker &lt;worker name or ID&gt; -list </code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">       signserver authorizedclients -worker &lt;worker name or ID&gt; &lt;-add/-remove&gt; </code></div>
<div class="line"><code class="plain">          -matchSubjectWithType &lt;SUBJECT_MATCH_TYPE&gt; -matchSubjectWithValue &lt;value&gt; \</code></div>
<div class="line"><code class="plain">          [-matchIssuerWithType &lt;ISSUER_MATCH_TYPE&gt;] -matchIssuerWithValue &lt;issuer DN&gt; \</code></div>
<div class="line"><code class="plain">          [-description &lt;textual description&gt;]</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">       signserver authorizedclients -worker &lt;worker name or ID&gt; &lt;-add/-remove&gt; \</code></div>
<div class="line"><code class="plain">          -matchSubjectWithType &lt;SUBJECT_MATCH_TYPE&gt; \</code></div>
<div class="line"><code class="plain">          [-matchIssuerWithType &lt;ISSUER_MATCH_TYPE&gt;] \</code></div>
<div class="line"><code class="plain">          [-description &lt;textual description&gt;] \</code></div>
<div class="line"><code class="plain">          -cert &lt;PEM file&gt;</code></div>
</div>
</div><p>Supported values for <strong>-matchSubjectWithType</strong>:</p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="df1292c4-8bcd-43ae-a47c-c61752645247" class="confluenceTable"><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Type</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>CERTIFICATE_SERIALNO</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Serial number of the certificate.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_CN</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Common Name (CN) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_SERIALNO</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Serial number (serialNumber/SN) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_C</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Country (C) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_DC</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Domain Component (DC) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_ST</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>State or Province (ST) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_L</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Locality (L) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_O</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Organization (O) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_OU</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Organizational Unit (OU) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_TITLE</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Title (title) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_UID</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Unique ID (UID) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_RDN_E</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>E-mail address in DN (E) RDN in textual representation from Subject DN.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_ALTNAME_RFC822NAME</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>RFC822Name Subject Alternative Name.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>SUBJECT_ALTNAME_MSUPN</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>MS UPN Subject Alternative Name.</p></td></tr></tbody></table></div><p>Supported values for <strong>-matchIssuerWithType</strong>:</p><div class="table-wrap"><table data-table-width="818.271" data-layout="wide" data-local-id="aa2183ec-156a-44e7-98de-fb0445436254" class="confluenceTable"><colgroup span="1"><col span="1" style="width: 260.12px;"><col span="1" style="width: 558.4px;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Type</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>ISSUER_DN_BCSTYLE</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Issuer DN in textual EJBCA/BC DN style.</p></td></tr></tbody></table></div><p>Example 1:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver authorizedclients -worker CMSSigner -list</code></div>
</div>
</div><p>Example 2:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver authorizedclients -worker CMSSigner -add </code></div>
<div class="line"><code class="plain"> -matchSubjectWithType SUBJECT_RDN_CN -matchSubjectWithValue </code><code class="string">"Client One"</code></div>
<div class="line"><code class="plain"> -matchIssuerWithValue </code><code class="string">"CN=AdminCA1, C=SE"</code></div>
</div>
</div><p>Example 3:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver authorizedclients -worker CMSSigner -add </code></div>
<div class="line"><code class="plain"> -matchSubjectWithType SUBJECT_RDN_CN -matchSubjectWithValue </code><code class="string">"Client One"</code></div>
<div class="line"><code class="plain"> -matchIssuerWithType ISSUER_DN_BCSTYLE -matchIssuerWithValue </code><code class="string">"CN=AdminCA1, C=SE"</code><code class="plain"> -description </code><code class="string">"my rule"</code></div>
</div>
</div><p>Example 4:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver authorizedclients -worker CMSSigner -add </code></div>
<div class="line"><code class="plain"> -matchSubjectWithType CERTIFICATE_SERIALNO -matchIssuerWithType ISSUER_DN_BCSTYLE </code></div>
<div class="line"><code class="plain"> -cert /tmp/admin.pem</code></div>
</div>
</div><p>Example 5:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver authorizedclients -worker CMSSigner -remove </code></div>
<div class="line"><code class="plain"> -matchSubjectWithType CERTIFICATE_SERIALNO </code></div>
<div class="line"><code class="plain"> -matchIssuerWithType ISSUER_DN_BCSTYLE </code></div>
<div class="line"><code class="plain"> -cert /tmp/admin.pem</code></div>
</div>
</div><h3 id="AdministrationCLI-addauthorizedclient" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">addauthorizedclient</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The addauthorizedclient command is deprecated and only supports legacy rules. Use the <a href="Administration_CLI.html#AdministrationCLI-authorizedclients" rel="nofollow" shape="rect" data-scroll-target-source-id="371000510" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000510/Administration+CLI#src-371000510_AdministrationCLI-authorizedclients" data-scroll-link-target-source-id="371000510">authorizedclients</a> command instead.</p></div></div><p>Adds a client certificate to a processable workers list of acceptable clients using this worker. Specify certificate serial number in hex and the Issuer DN of the client certificate. If DN components contains commas, these need to be escaped with backslashes. Alternatively, a certificate file (PEM or DER format) can be specified, from which the serial number and issuer DN is fetched.</p><p>Usage example 1:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver addauthorizedclient 1 EF34242D2324 </code><code class="string">"CN=Test Root CA"</code></div>
</div>
</div><p>Usage example 2:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver addauthorizedclient 1 EF3456789ABC </code><code class="string">"CN=Client,O=Test Organization,C=SE"</code></div>
</div>
</div><p>Usage example 3:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver addauthorizedclient 1 client.pem</code></div>
</div>
</div><h3 id="AdministrationCLI-removeauthorizedclient" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">removeauthorizedclient</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The removeauthorizedclient command is deprecated and only supports legacy rules. Use the <a href="Administration_CLI.html#AdministrationCLI-authorizedclients" rel="nofollow" shape="rect" data-scroll-target-source-id="371000510" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000510/Administration+CLI#src-371000510_AdministrationCLI-authorizedclients" data-scroll-link-target-source-id="371000510">authorizedclients</a> command instead.</p></div></div><p>Removes added client certificate entries.</p><h3 id="AdministrationCLI-listauthorizedclients" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">listauthorizedclients</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The listauthorizedclients command is deprecated and only supports legacy rules. Use the <a href="Administration_CLI.html#AdministrationCLI-authorizedclients" rel="nofollow" shape="rect" data-scroll-target-source-id="371000510" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000510/Administration+CLI#src-371000510_AdministrationCLI-authorizedclients" data-scroll-link-target-source-id="371000510">authorizedclients</a> command instead.</p></div></div><p>Displays the current list of acceptable clients.</p><h2 id="AdministrationCLI-DatabaseRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Database Related</h2><h3 id="AdministrationCLI-resync" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">resync</h3><p>The <code>resync</code> command is used if a SignServer had a complete database failure. When this happens, the Global Configuration switches to Off-line mode and it is not possible for the nodes to communicate internally and the Global Configurations will no longer be in sync. When the database is up again, the&nbsp;<code>resync</code> command can be sent to the node that has the most valid Global Configuration to write it to the database. After the resynchronization is performed, the Global Configuration will re-enter On-line mode.</p><h2 id="AdministrationCLI-ArchiveRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Archive Related</h2><p>The archive commands can be used for processable workers with archiving enabled to find specific archived responses. Whether a worker or Archiver supports being queried using the archive commands, is governed by their respective implementation.&nbsp;For Archivers other than the default <strong>OldDatabaseArchiver</strong> and <strong>Base64DatabaseArchiver</strong>, querying might have to be performed directly in a database, filesystem, or by some custom application.</p><h3 id="AdministrationCLI-archivefindfromarchiveid" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">archive findfromarchiveid</h3><p>Used to extract archived data from database identified by the archive ID. The ID depends on the worker. For example,&nbsp; in case of the TSA, the TimeStampInfo serial number is used. The data is stored with the same file title as the archive ID, and with the file extension depending on the type of item, for example <code>.request</code> or <code>.response</code>.</p><h3 id="AdministrationCLI-archivefindfromrequestip" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">archive findfromrequestip</h3><p>Used to extract all archived data requested from a specified IP address. All data is stored as separate files with the archive ID as file title, and the file extension depending on the type of item.</p><h3 id="AdministrationCLI-archivefindfromrequestcert" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">archive findfromrequestcert</h3><p>&nbsp;Used to extract all archived data requested from a client by its specified certificate serial number and issuer DN. All data is stored as separate files with the archive ID as file title and the file extension depending on the type of item.</p><h3 id="AdministrationCLI-archivequery" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">archive query</h3><p>Used to query contents of the archive. Actual archived data is not fetched by this command.</p><p>Usage:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver archive query -limit &lt;number&gt; [-criteria  </code><code class="string">"&lt;field&gt; &lt;op&gt; &lt;value&gt;"</code><code class="plain"> [-criteria...]] [-from &lt;index&gt;] [-header] [-request|-response]</code></div>
</div>
</div><p></p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="c2aff3ec-e8e7-4cf2-bb44-0ae7d9245d49" class="confluenceTable"><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Option</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;field&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Field name from the archive: <strong>archiveId</strong>, <strong>requestCertSerialNumber</strong>, <strong>requestIP</strong>, <strong>requestIssuerDN</strong>, <strong>signerid</strong>, <strong>time</strong>, <strong>type</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;op&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Relational operator: <strong>GT</strong>, <strong>GE</strong>, <strong>LT</strong>, <strong>LE</strong>, <strong>EQ</strong>, <strong>NEQ</strong>, <strong>LIKE,NULL</strong>, <strong>NOTNULL</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-request</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>&nbsp;Shows only entries for requests.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-response</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Shows only entries for responses.</p></td></tr></tbody></table></div><p>Examples:&nbsp;</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver archive query -limit 10 -criteria </code><code class="string">"signerid EQ 1"</code></div>
<div class="line"><code class="plain">signserver archive query -limit 10 -criteria </code><code class="string">"signerid EQ 1"</code><code class="plain"> -request</code></div>
<div class="line"><code class="plain">signserver archive query -limit 10 -criteria </code><code class="string">"time GT 1359623137000"</code><code class="plain"> -criteria "requestIP EQ 127.0.0.1</code></div>
<div class="line"><code class="plain">signserver archive query -limit 10 -criteria </code><code class="string">"signerid EQ 1"</code><code class="plain"> -outpath </code><code class="plain">/tmp/out</code><code class="plain">\n\n"</code></div>
</div>
</div><h2 id="AdministrationCLI-AdministratorsRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Administrators Related</h2><h3 id="AdministrationCLI-wsadmins-list" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsadmins<strong> -list</strong></h3><p>Lists administrator certificates (certificate serial number and issuer DN) for administrators authorized to use the Admin Web Service interface to administrate SignServer.</p><h3 id="AdministrationCLI-wsadmins-add" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsadmins -add</h3><p>Authorizes an administrator to use the Admin Web Service interface by certificate serial number (in hexadecimal) and issuer DN with space after each comma separating DN components. If DN components contains commas, these needs to be escaped with backslashes.</p><p>The following displays how to enter the issuer DN when using a certificate issued from EJBCA with the default (as specified by EJBCA) LDAP DN order:</p><div class="scroll-code scroll-highlighted-code-block" data-language="text" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">C=SE, O=TestOrganization, CN=IssuingCA</code></div>
</div>
</div><p>The following displays using escaped DN components:</p><div class="scroll-code scroll-highlighted-code-block" data-language="text" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">C=SE, O=TestOrganization\, The, CN=IssuingCA\, Th</code></div>
</div>
</div><p>Note that the order is reversed, compared to how the issuer DN is stored in the certificate.</p><p>The following displays how to enter the issuer DN when using a certificate issued from EJBCA with the Use LDAP DN order option disabled:</p><div class="scroll-code scroll-highlighted-code-block" data-language="text" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">CN=ReverseIssuingCA, O=TestOrganization, C=S</code></div>
</div>
</div><p>Alternatively, a certificate file can be specified from which the serial number and issuer DN will be taken.</p><p>Usage example 1:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver wsadmins -add -certserialno 123ABCDEF -issuerdn </code><code class="string">"CN=Neo Morpheus, C=SE"</code></div>
</div>
</div><p>Usage example 2:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver wsadmins -add -cert wsadmin.pe</code></div>
</div>
</div><h3 id="AdministrationCLI-wsadmins-remove" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsadmins -remove</h3><p>Removes an administrator from the list of authorized administrators.</p><h3 id="AdministrationCLI-wsadmins-allowany" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsadmins -allowany</h3><p>Specifies whether any administrator with a certificate accepted by the web server/proxy is authorized or not. When set (true) it overrides the WSADMINS global property. Takes an optional boolean parameter, if left out sets to true (allow all). This can be used for initial setup.</p><h2 id="AdministrationCLI-AuditorsRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Auditors Related</h2><h3 id="AdministrationCLI-wsauditors-list" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsauditors -list</h3><p>Lists auditor certificates (certificate serial number and issuer DN) for administrators authorized to use the Admin Web Service interface to query the audit log of SignServer.</p><h3 id="AdministrationCLI-wsauditors-add" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsauditors -add</h3><p>Authorizes an auditor to use the Admin Web Service interface by certificate serial number (given in hexadecimal) and issuer DN.</p><h3 id="AdministrationCLI-wsauditors-remove" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsauditors -remove</h3><p>Removes an auditor from the list of authorized administrators.</p><h2 id="AdministrationCLI-ArchiveAuditorsRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Archive Auditors Related</h2><h3 id="AdministrationCLI-wsarchiveauditors-list" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsarchiveauditors -list</h3><p>Lists archive auditor certificates (certificate serial number and issuer DN) for auditors authorized to use the Admin Web Service interface to query the archive of SignServer.</p><h3 id="AdministrationCLI-wsarchiveauditors-add" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsarchiveauditors -add</h3><p>Authorizes an auditor, by specifying a certificate serial number (in hexadecimal) and issuer DN, to use the Admin Web Service interface for querying the archive.</p><h3 id="AdministrationCLI-wsarchiveauditors-remove" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wsarchiveauditors -remove</h3><p>Removes an auditor from the list of authorized archive auditors.</p><h3 id="AdministrationCLI-auditlog-query" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">auditlog -query</h3><p>Query the CESeCore audit log.</p><p>Usage:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver auditlog -query -limit &lt;number&gt; [-criteria </code><code class="string">"&lt;field&gt; &lt;op&gt; &lt;value&gt;"</code><code class="plain"> [-criteria...]] [-from &lt;index&gt;] [-header]</code></div>
</div>
</div><p></p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="a21d7f5a-3947-45ef-a038-0a604c205be9" class="confluenceTable"><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Option</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-limit</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Sets the maximum number of rows matched. Required to avoid putting too much load on the server.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;field&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>&nbsp;Field name from the audit log: <strong>additionalDetails</strong>, <strong>authToken</strong>, <strong>customId</strong>, <strong>eventStatus</strong>, <strong>eventType</strong>, <strong>module</strong>, <strong>nodeId</strong>, <strong>searchDetail1</strong>, <strong>searchDetail2</strong>, <strong>sequenceNumber</strong>, <strong>service</strong>, <strong>timeStamp</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;op&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>&nbsp;Relational operator: <strong>GT</strong>, <strong>GE</strong>, <strong>LT,LE</strong>, <strong>EQ</strong>, <strong>NEQ, LIKE,NULL</strong>, <strong>NOTNULL</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-from</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Lower index in search result (0-based).</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-header</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Outputs a column header before the results.</p></td></tr></tbody></table></div><p>Note that if <strong>databaseprotection.enableverify</strong> is enabled at the server side, the signature of each row displayed is verified. If the verification fails for any of the rows matching the search criteria, an error message is displayed. The error message contains information about the first row that failed.</p><h3 id="AdministrationCLI-querytokenentries" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">querytokenentries</h3><p>Queries the entries (key alias, certificates etc) in a CryptoToken. If no limit is given, all entries are queried and printed (10 at a time). You can specify to start query from an index in the result. Search conditions can be added to only search for entries with certain key aliases.</p><p>Usage:</p><div class="scroll-code scroll-highlighted-code-block" data-language="bash" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">signserver querytokenentries -token &lt;</code><code class="functions">id</code><code class="plain"> or name&gt; -limit &lt;number&gt; [-criteria  </code><code class="string">"&lt;field&gt; &lt;op&gt; &lt;value&gt;"</code><code class="plain"> [-criteria...]] [-from &lt;index&gt;] [-</code><code class="functions">v</code><code class="plain">]</code></div>
</div>
</div><p></p><div class="table-wrap"><table data-table-width="1800" data-layout="default" data-local-id="55bfeada-246d-406c-ace6-d9c3cc2c7e8a" class="confluenceTable"><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Option</strong></p></th><th colspan="1" rowspan="1" class="confluenceTh"><p><strong>Description</strong></p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-limit</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>&nbsp;Sets the maximum number of rows matched. Required to avoid putting too much load on the server.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;field&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Field name from the token: <strong>alias</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>&lt;op&gt;</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Relational operator: <strong>EQ</strong>, <strong>NEQ</strong> or <strong>LIKE</strong>.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>-v</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>&nbsp;Means verbose and if given, the output also includes type, as well as any certificates or additional information available in each entry.</p></td></tr></tbody></table></div><h2 id="AdministrationCLI-PeerSystemsRelated" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-original-h2 scroll-custom-section-heading scroll-document-section-heading scroll-h2 scroll-relative-h2">Peer Systems Related</h2><h3 id="AdministrationCLI-wspeersystems-list" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wspeersystems -list</h3><p>Lists certificates (certificate serial number and issuer DN) for peer systems (i.e. EJBCA) authorized to use the <a href="Peer_Systems.html" data-linked-resource-id="371000778" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="371000778" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000778/Peer+Systems" data-scroll-link-target-source-id="371000778">Peer Systems</a> interface to query available key bindings and perform certificate renewal/rekeying.</p><h3 id="AdministrationCLI-wspeersystems-add" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wspeersystems -add</h3><p>Authorizes a peer system to use the Peer Systems interface by certificate serial number (given in hexadecimal) and issuer DN.</p><h3 id="AdministrationCLI-wspeersystems-remove" data-scroll-heading-rank-offset="1" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-original-h3 scroll-custom-section-heading scroll-document-section-heading scroll-h3 scroll-relative-h3">wspeersystems -remove</h3><p>Removes a peer system from the list of authorized peer systems.</p>
                        </div>
                    </section>

                </article>
            </main>


                <nav class="exp-post-navigation-prev">
                    <a href="Database_CLI.html" class="post-navigation-link">
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-prev">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                        <span>Database CLI</span>
                    </a>
                </nav>

                <nav class="exp-post-navigation-next">

                    <a href="Internationalization.html" class="post-navigation-link">
                        <span>Internationalization</span>
                        <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg">
                            <g id="ht-icon-next">
                                <path fill="currentColor" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) " />
                            </g>
                        </svg>
                    </a>

                </nav>


            <nav class="exp-sidebar-toc js-tocBot">
                <!-- content generated by toc.js  -->
            </nav>

            <div class="exp-sidebar-navigation-toggle">
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
                <div class="exp-sidebar-navigation-toggle-icon-line"></div>
            </div>

            <div class="exp-scroll-to-top-container">
                <a href="#AdministrationCLI-top" class="exp-scroll-to-top-link"> Back to top</a>
            </div>

        </div>



<dialog class="exp-lightbox-container" aria-modal="true">
    <div class="lightbox-toolbar">
        <button type="button" class="exp-lightbox-close">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                <path fill="currentColor" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
            </svg>
        </button>
    </div>
    <div class="lightbox-content content">
    </div>
</dialog>

<template id="exp-lightbox-wrapper-template">
    <div class="exp-lightbox-wrapper">
        <div class="exp-lightbox-toggle">
            <button type="button" class="exp-lightbox-close">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 -960 960 960" aria-hidden="true">
                    <path fill="currentColor" d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z" />
                </svg>
            </button>
        </div>
    </div>
</template>

        <script src="js/tocbot.min.js"></script>
        <script src="js/article-toc.js"></script>
        <script src="js/app.js"></script>
        <script src="js/mobile.js"></script>
        <script src="js/iframe-resizer.parent.js"></script>

    </body>

</html>