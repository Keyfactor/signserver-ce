<!doctype html>

<html class="no-js" lang="en" data-vp-page-id="370999711">


    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

    <!-- Primary Meta Tags -->
    <meta name="exp-export-timestamp" content="2025-05-15T08:54:10.935+0000">
    <meta name="exp-page-id" content="370999711">
    <meta name="exp-page-title" content="Deploy-time Configuration">
    <meta name="exp-page-version" content="9">
    <meta name="exp-page-scroll-page-id" content="f6d2fd9c10850ea5df657bcd50f90ac0">
    <meta name="exp-page-created" content="2023-09-11T08:52:36.000+0000">
    <meta name="exp-page-last-modified" content="2025-05-15T08:33:01.958+0000">
    <meta name="exp-page-labels" content="review">
    <meta name="exp-page-context-keys" content="">
    <meta name="exp-space-key" content="SSDOCS">
    <meta name="exp-space-title" content="SignServer Documentation">

    <!-- Additional Meta Tags -->
    <meta name="exp-document-id" content="371111034">
    <meta name="exp-document-title" content="SignServer Documentation">
    <meta name="exp-version-status" content="in-progress">
    <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
    <meta name="exp-version-name" content="Working version">
    <meta name="exp-version-description" content="">
    <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
    <meta name="exp-variant-id" content="">
    <meta name="exp-variant-name" content="">
    <meta name="exp-variant-description" content="">
    <meta name="exp-language-code" content="">
    <meta name="exp-language-name" content="">

    <link rel="stylesheet" href="css/app.css">



<script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
    <title>Deploy-time Configuration</title>

<meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>
    <!-- pageid attribute is deprecated - please use data-vp-page-id on html element instead -->
    <body id="Deploy-timeConfiguration-top" pageid="370999711" class="flex flex-col" data-confluence-editor-version="unknown">
        <div id="vp-js-desktop__navigation__skip-to-navigation-link"></div>




<header class="home-icon-container flex justify-between header hc-header-background-color hc-header-background-color ">
    <div class="header__navigation--logo">
        <a href="SignServer_Documentation.html">
            <img src="_scroll_external/attachments/e415105eb31a/ssdocs" alt="SignServer Documentation" title="SignServer Documentation">
        </a>
    </div>
        <div class="top-bar-right no-print header__navigation--large__menu hc-header-background-color">
    

    <div data-vp-id="search-bar-placeholder" data-vp-component="search-bar" class="vp-search-bar" aria-hidden="true">
        <form action="/search.html" method="GET" class="vp-search-bar__input-container">
            <div data-vp-component="search-input" data-vp-variant="border" class="vp-search-input vp-search-input--border">
                <input type="search" id="search-texbox" autocomplete="off" class="vp-search-input__input" style="margin-right: 0;">
                <div class="vp-search-input__icon" aria-hidden="true">
                    <span class="vp-icon material-icons mdi-magnify w-6 h-6 text-icon-md"></span>
                </div>
            </div>
        </form>
        <div id="search-suggestion-container" class="vp-search-suggestion-panel" data-vp-component="search-suggestion"></div>
        <template id="search-suggestion-option-template">
            <div class="vp-search-suggestion-option-container vp-search-form__suggestion">
                <a class="vp-search-suggestion-option vp-search-form__suggestion" href=""></a>
            </div>
        </template>
    </div>

        </div>
</header>

        <main>



<div class="vp-article vp-container vp-container--with-content-padding article vp-container--full full vp-article--wide">
    <div class="flex">

        <div id="exp-navigation-wrapper" class="hidden lg:block">
            <iframe src="toc.html?pageId=370999711" class="border-0"></iframe>
        </div>


        <div class="vp-article__content-panel flex-auto grid-container full js-loading" id="article-content">
            <article role="article">
                <header>
<nav aria-label="Breadcrumb" role="navigation">
    <div class="breadcrumbs-wrapper">
        <ol class="breadcrumbs breadcrumbs--fit-content js-loading js-loading__stacked js-loading__stacked--breadcrumb">
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Documentation.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Documentation</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Reference.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Reference</a>
                </li>
            <li class="breadcrumbs--active js-hide-until-loaded">
                <a href="Deploy-time_Configuration.html" target="_self" aria-current="page">Deploy-time Configuration</a>
            </li>
        </ol>
        <div class="breadcrumbs-wrapper__scroll-mask"></div>
    </div>
</nav>
                    <!-- CSS class article__heading is deprecated and will be removed in the future -->
                    <h1 class="cell vp-article__heading article__heading js-loading js-loading__stacked js-loading__stacked--heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-b4e51f645c5268c258b240d89e230bfbcef119861d2e066cdc87cc9d394c01a3"><span class="js-hide-until-loaded">Deploy-time Configuration</span></h1>
                </header>
                <section class="page" id="content" role="main">
                    <div id="vp-js-desktop__navigation__skip-to-navigation-target"></div>
                    <div id="main-content" class="wiki-content article__content js-tocBot-content js-hide-until-loaded">
                        <p>Properties configured in conf/signserver_deploy.properties are used when deploying SignServer to the application server. The properties include settings used by the deployment script to find the application server, the database type to use, and other settings included in the deployment of the application.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>To ensure that changes in signserver_deploy.properties and databasprotection.properties take affect, the application needs to be deployed again using <strong>bin/ant deploy</strong>. It is however not necessary to run&nbsp;<strong>bin/ant clean</strong>.</p></div></div><p>&nbsp;See the sample configuration script conf/signserver_deploy.properties.sample for available options and default values.</p><h2 id="Deploy-timeConfiguration-CryptoTokenConfiguration" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">CryptoToken Configuration</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Property</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>cryptotoken.disablekeygeneration</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Disable the key generation functionality for all crypto tokens.</p><p>Default: false</p><p>With this property set to true, worker key renewal and key generation operations in crypto tokens are being denied with the error message "Key generation has been disabled". Additionally, the key generation pages in Admin Web are disabled.<br clear="none">The purpose of using this option could be that key generation should be carried out by a different procedure outside of SignServer possibly with dual person control.</p></td></tr></tbody></table></div><h2 class="auto-cursor-target scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading" id="Deploy-timeConfiguration-DatabaseConfiguration" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2">Database Configuration</h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 97.7174%;"><colgroup span="1"><col span="1" style="width: 12.9661%;"></colgroup><colgroup span="1"><col span="1" style="width: 87.0339%;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Property</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>database.hibernate.disable.cache</p></td><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p>Disable the hibernate L2 (Second-level) and query cache.</p><p>Default: false</p><p>With this property set to true, the SignServerJPA and ejbca persistence units will be deployed with some extra elements to disable the L2 and query cache.</p><p>The elements added are:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">&lt;property name=</code><code class="string">"hibernate.cache.use_second_level_cache"</code><code class="plain"> value=</code><code class="string">"false"</code><code class="plain">/&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">&lt;property name=</code><code class="string">"hibernate.cache.use_query_cache"</code><code class="plain"> value=</code><code class="string">"false"</code><code class="plain">/&gt;</code></div>
<div class="line">&nbsp;</div>
<div class="line"><code class="plain">&lt;property name=</code><code class="string">"hibernate.cache.region.factory_class"</code><code class="plain"> value=</code><code class="string">"org.hibernate.cache.internal.NoCachingRegionFactory"</code><code class="plain">/&gt;</code></div>
</div>
</div><div class="confluence-information-macro confluence-information-macro-warning"><span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The results of disabling the L2 and query cache have not been tested, but it is expected to have a negative impact on performance.</p></div></div></div></td></tr></tbody></table></div><h2 class="auto-cursor-target scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading" id="Deploy-timeConfiguration-AllowlistConfiguration" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2">Allowlist Configuration</h2><div class="table-wrap"><table class="relative-table confluenceTable" style="width: 100.0%;"><colgroup span="1"><col span="1" style="width: 13.0663%;"></colgroup><colgroup span="1"><col span="1" style="width: 86.9337%;"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><p>Property</p></th><th colspan="1" rowspan="1" class="confluenceTh"><p>Description</p></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>pdfsigner.archive.path.allowed.X</p></td><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p>There is the possibility of archiving signed documents in the local file system, see ARCHIVETODISK properties in <a href="PDF_Signer.html" data-linked-resource-id="370999917" data-linked-resource-version="8" data-linked-resource-type="page" data-scroll-target-source-id="370999917" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999917/PDF+Signer" data-scroll-link-target-source-id="370999917">PDF Signer</a>. To do so, one must also configure the <strong>pdfsigner.archive.path.allowed.X </strong>as deploy properties, where X is an integer corresponding to a path entry in the archiving allowlist. The number of allowed archiving paths are limited to 256 entries. All the configured archive paths in the properties file are added to the archiving allowlist.</p><p>Example:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">pdfsigner.archive.path.allowed.</code><code class="value">0</code><code class="plain">=/home/user/archiving1/</code></div>
<div class="line"><code class="plain">pdfsigner.archive.path.allowed.</code><code class="value">1</code><code class="plain">=/home/user/archiving2/</code></div>
<div class="line"><code class="plain">pdfsigner.archive.path.allowed.</code><code class="value">2</code><code class="plain">=/home/user/archiving3/</code></div>
</div>
</div></div></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>pdfsigner.image.path.allowed.X</p></td><td colspan="1" rowspan="1" class="confluenceTd"><div class="content-wrapper"><p>There is the possibility of specifying a visible signature image using a file path (i.e. using VISIBLE_SIGNATURE_CUSTOM_IMAGE_PATH or VISIBLE_SIGNATURE_IMAGE_PATH) in the <a href="PDF_Signer.html" data-linked-resource-id="370999917" data-linked-resource-version="8" data-linked-resource-type="page" data-scroll-target-source-id="370999917" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999917/PDF+Signer" data-scroll-link-target-source-id="370999917">PDF Signer</a> or <a href="AdES_Signer.html" data-linked-resource-id="370999771" data-linked-resource-version="13" data-linked-resource-type="page" data-scroll-target-source-id="370999771" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/370999771/AdES+Signer" data-scroll-link-target-source-id="370999771">AdES Signer</a>. To do so, one must also configure the <strong>pdfsigner.image.path.allowed.X </strong>as deploy properties, where X is an integer corresponding to a path entry in the custom image allowlist. The number of allowed image paths are limited to 256 entries. All the configured custom image paths in the properties file are added to the custom image allowlist.</p><p>Example:</p><div class="scroll-code scroll-highlighted-code-block" data-title-type="code" data-theme="defaultnew" style="  counter-reset: scroll-code-numbering 0;"><div class="defaultnew content">
<div class="line"><code class="plain">pdfsigner.image.path.allowed.</code><code class="value">0</code><code class="plain">=/home/user/images1/</code></div>
<div class="line"><code class="plain">pdfsigner.image.path.allowed.</code><code class="value">1</code><code class="plain">=/home/user/images2/</code></div>
<div class="line"><code class="plain">pdfsigner.image.path.allowed.</code><code class="value">2</code><code class="plain">=/home/user/images3/</code></div>
</div>
</div></div></td></tr></tbody></table></div>
<nav id="ht-post-nav">
        <a href="SignServer_Reference.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>SignServer Reference</span>
        </a>

        <a href="SignServer_Workers.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>SignServer Workers</span>
        </a>
</nav>
                    </div>
                </section>
            </article>
        </div>

        <div class="vp-article__aside-right flex-shrink-0 w-1/6 article__toc hidden xl:block no-print">
            <div class="vp-scrollable-container vp-scrollable-container--hidden-scrollbars">
                <div class="js-tocBot">
                                    </div>
            </div>
        </div>

    </div>
</div>
        </main>


        <div id="vp-js-mobile__navigation">
            <div tabindex="-1" class="vp-mobile-navigation__trigger fixed outline-none z-mobile-menu-trigger">
                <button type="button" class="vp-button vp-button--variant-floating-action vp-mobile-navigation__button flex items-center justify-center" aria-label="navigation.open.label">
                    <div class="vp-mobile-navigation__button__icon relative">
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                    </div>
                </button>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>