<!doctype html>

<html class="no-js" lang="en" data-vp-page-id="371000159">


    
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="_scroll_external/attachments/e415105eb31a/ssdocs">

    <!-- Primary Meta Tags -->
    <meta name="exp-export-timestamp" content="2024-11-07T13:05:21.633+0000">
    <meta name="exp-page-id" content="371000159">
    <meta name="exp-page-title" content="KeyStoreCryptoToken">
    <meta name="exp-page-version" content="1">
    <meta name="exp-page-scroll-page-id" content="81c341722cb0bf715d06ccb104b9da78">
    <meta name="exp-page-created" content="2022-06-28T11:35:00.000+0000">
    <meta name="exp-page-last-modified" content="2022-06-28T11:36:42.000+0000">
    <meta name="exp-page-labels" content="">
    <meta name="exp-page-context-keys" content="">
    <meta name="exp-space-key" content="SSDOCS">
    <meta name="exp-space-title" content="SignServer Documentation">

    <!-- Additional Meta Tags -->
    <meta name="exp-document-id" content="371111034">
    <meta name="exp-document-title" content="SignServer Documentation">
    <meta name="exp-version-status" content="in-progress">
    <meta name="exp-version-id" content="8a3e757d15e64586aa644eaf0980f27a">
    <meta name="exp-version-name" content="Working version">
    <meta name="exp-version-description" content="">
    <meta name="exp-version-date" content="2024-02-17T13:18:25Z">
    <meta name="exp-variant-id" content="">
    <meta name="exp-variant-name" content="">
    <meta name="exp-variant-description" content="">
    <meta name="exp-language-code" content="">
    <meta name="exp-language-name" content="">

    <link rel="stylesheet" href="css/app.css">



<script id="search-worker" type="javascript/worker">
    onmessage = function(event) {
        // dispatch events to handling functions
        var message = event.data;

        if ((message.type === 'setup') && message.baseUrl) {
            setup(message.baseUrl);
        }

        if (message.type === 'search-request') {
            search(message.query);
        }
    }

    var searchIndex;

    function setup(baseUrl) {
        importScripts(
            baseUrl + 'js/lunr.js',
            baseUrl + 'js/lunr-index.js',
            baseUrl + 'js/lunr-data.js'
        );
        try {
            // load lunr-extras if it exists, which contains language-specific files for languages other than english
            importScripts(baseUrl + 'js/lunr-extras.js');
        } catch (e) {}
        searchIndex = lunr.Index.load(lunrIndex);
    }

    function search(query) {
        var searchHits = searchIndex.search(query);
        var results = searchHits.map(function (result) {
            return lunrData.filter(function (d) {
                return d.id === result.ref;
            })[0]
        });
        postMessage({ type: 'search-results', results: results, query: query });
    }
</script>
    <title>KeyStoreCryptoToken</title>

<meta name="generator" content="Scroll HTML Exporter / K15t GmbH"></head>
    <!-- pageid attribute is deprecated - please use data-vp-page-id on html element instead -->
    <body id="KeyStoreCryptoToken-top" pageid="371000159" class="flex flex-col" data-confluence-editor-version="v1">
        <div id="vp-js-desktop__navigation__skip-to-navigation-link"></div>




<header class="home-icon-container flex justify-between header hc-header-background-color hc-header-background-color ">
    <div class="header__navigation--logo">
        <a href="SignServer_Documentation.html">
            <img src="_scroll_external/attachments/e415105eb31a/ssdocs" alt="SignServer Documentation" title="SignServer Documentation">
        </a>
    </div>
        <div class="top-bar-right no-print header__navigation--large__menu hc-header-background-color">
    

    <div data-vp-id="search-bar-placeholder" data-vp-component="search-bar" class="vp-search-bar" aria-hidden="true">
        <form action="/search.html" method="GET" class="vp-search-bar__input-container">
            <div data-vp-component="search-input" data-vp-variant="border" class="vp-search-input vp-search-input--border">
                <input type="search" id="search-texbox" autocomplete="off" class="vp-search-input__input" style="margin-right: 0;">
                <div class="vp-search-input__icon" aria-hidden="true">
                    <span class="vp-icon material-icons mdi-magnify w-6 h-6 text-icon-md"></span>
                </div>
            </div>
        </form>
        <div id="search-suggestion-container" class="vp-search-suggestion-panel" data-vp-component="search-suggestion"></div>
        <template id="search-suggestion-option-template">
            <div class="vp-search-suggestion-option-container vp-search-form__suggestion">
                <a class="vp-search-suggestion-option vp-search-form__suggestion" href=""></a>
            </div>
        </template>
    </div>

        </div>
</header>

        <main>



<div class="vp-article vp-container vp-container--with-content-padding article vp-container--full full vp-article--wide">
    <div class="flex">

        <div id="exp-navigation-wrapper" class="hidden lg:block">
            <iframe src="toc.html?pageId=371000159" class="border-0"></iframe>
        </div>


        <div class="vp-article__content-panel flex-auto grid-container full js-loading" id="article-content">
            <article role="article">
                <header>
<nav aria-label="Breadcrumb" role="navigation">
    <div class="breadcrumbs-wrapper">
        <ol class="breadcrumbs breadcrumbs--fit-content js-loading js-loading__stacked js-loading__stacked--breadcrumb">
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Documentation.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Documentation</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Reference.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Reference</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="SignServer_Components.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">SignServer Components</a>
                </li>
                <li class="js-hide-until-loaded">
                    <a href="CryptoTokens.html" rel="prev" target="_self" class="js-breadcrumbs-truncate">CryptoTokens</a>
                </li>
            <li class="breadcrumbs--active js-hide-until-loaded">
                <a href="KeyStoreCryptoToken.html" target="_self" aria-current="page">KeyStoreCryptoToken</a>
            </li>
        </ol>
        <div class="breadcrumbs-wrapper__scroll-mask"></div>
    </div>
</nav>
                    <!-- CSS class article__heading is deprecated and will be removed in the future -->
                    <h1 class="cell vp-article__heading article__heading js-loading js-loading__stacked js-loading__stacked--heading scroll-h1 scroll-original-h1 scroll-relative-h1 scroll-custom-section-heading scroll-document-section-heading" role="heading" data-scroll-heading-rank="1" data-scroll-original-heading-rank="1" data-scroll-relative-heading-rank="1" id="no-src_generated-id-45a5e5459d1d0ccc8cb30633b54edc56f3f40a4dddb50e0b6b1379b15fe37980"><span class="js-hide-until-loaded">KeyStoreCryptoToken</span></h1>
                </header>
                <section class="page" id="content" role="main">
                    <div id="vp-js-desktop__navigation__skip-to-navigation-target"></div>
                    <div id="main-content" class="wiki-content article__content js-tocBot-content js-hide-until-loaded">
                        <h2 id="KeyStoreCryptoToken-Overview" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Overview</h2><p>A CryptoToken using a keystore, either a PKCS#12 (.p12/.pfx), or legacy Java JKS (.jks) keystore in the local file system, or a keystore stored in the configuration (in the database).</p><p>CRYPTOTOKEN_IMPLEMENTATION_CLASS=<strong>org.signserver.server.cryptotokens.KeystoreCryptoToken</strong>.</p><h2 id="KeyStoreCryptoToken-AvailableProperties" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Available Properties</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup span="1"><col span="1"><col span="1"></colgroup><thead><tr><th colspan="1" rowspan="1" class="confluenceTh"><div class="tablesorter-header-inner">Property</div></th><th colspan="1" rowspan="1" class="confluenceTh"><div class="tablesorter-header-inner">Description</div></th></tr></thead><tbody><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>KEYSTOREPATH</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Full path to the keystore file to load. Required.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>KEYSTOREPASSWORD</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Password that locks the keystore. Used for automatic activation.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>KEYSTORETYPE</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>Type of keystore:</p><ul><li><strong>PKCS12</strong> for a P12 keystore.</li><li><strong>JKS</strong> for a Java JKS keystore.</li><li><strong>INTERNAL</strong> to use an in-configuration keystore.</li></ul><p>Required.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>DEFAULTKEY</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>The key to use. If a key is not derived from each signing request (using an implementation of the AliasSelector interface), this needs to be defined. Optional.</p></td></tr><tr><td colspan="1" rowspan="1" class="confluenceTd"><p>NEXTCERTSIGNKEY</p></td><td colspan="1" rowspan="1" class="confluenceTd"><p>The next key to use. Optional. For more information, see <a href="PKCS11CryptoToken.html" data-linked-resource-id="371000127" data-linked-resource-version="2" data-linked-resource-type="page" data-scroll-target-source-id="371000127" class=" scroll-document-link" data-scroll-link-type="document" data-scroll-link-target="https://keyfactor.atlassian.net/wiki/spaces/SSDOCS/pages/371000127/PKCS11CryptoToken" data-scroll-link-target-source-id="371000127">PKCS11CryptoToken</a>.</p></td></tr></tbody></table></div><h3 id="KeyStoreCryptoToken-WhenUsinganInternalKeystore" data-scroll-heading-rank="3" data-scroll-original-heading-rank="3" data-scroll-relative-heading-rank="3" class="scroll-h3 scroll-original-h3 scroll-relative-h3 scroll-custom-section-heading scroll-document-section-heading">When Using an Internal Keystore</h3><p>The content of the keystore is not part of the regular worker properties. Thus, it is not included when running the dump properties command. It is also removed when removing the crypto worker (or regular worker when using the legacy method to set up crypto tokens). To backup the content of the crypto token, a database backup should be made. The password supplied when activating the token the first time will be used as the keystore password.</p><h2 id="KeyStoreCryptoToken-SpecialCaseType-specificImplementations" data-scroll-heading-rank="2" data-scroll-original-heading-rank="2" data-scroll-relative-heading-rank="2" class="scroll-h2 scroll-original-h2 scroll-relative-h2 scroll-custom-section-heading scroll-document-section-heading">Special Case Type-specific Implementations</h2><p>As a convenience, three type-specific implementations are available</p><p><strong>P12CryptoToken</strong></p><p>CRYPTOTOKEN_IMPLEMENTATION_CLASS=<strong>org.signserver.server.cryptotokens.P12CryptoToken</strong></p><p><strong>JKSCryptoToken</strong></p><p>CRYPTOTOKEN_IMPLEMENTATION_CLASS=<strong>org.signserver.server.cryptotokens.JKSCryptoToken</strong></p><p><strong>KeystoreInConfigCryptoToken</strong></p><p>CRYPTOTOKEN_IMPLEMENTATION_CLASS=<strong>org.signserver.server.cryptotokens.KeystoreInConfigCryptoToken</strong></p><p>These implementations work the same way as using a KeyStoreCryptoToken and setting KEYSTORETYPE to PKCS12, JKS, or INTERNAL respectively.</p>
<nav id="ht-post-nav">
        <a href="Algorithm_Support3.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Algorithm Support</span>
        </a>

        <a href="KeyStoreCryptoToken_Algorithm_Support.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2" sketch:type="MSShapeGroup" transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>KeyStoreCryptoToken Algorithm Support</span>
        </a>
</nav>
                    </div>
                </section>
            </article>
        </div>

        <div class="vp-article__aside-right flex-shrink-0 w-1/6 article__toc hidden xl:block no-print">
            <div class="vp-scrollable-container vp-scrollable-container--hidden-scrollbars">
                <div class="js-tocBot">
                                    </div>
            </div>
        </div>

    </div>
</div>
        </main>


        <div id="vp-js-mobile__navigation">
            <div tabindex="-1" class="vp-mobile-navigation__trigger fixed outline-none z-mobile-menu-trigger">
                <button type="button" class="vp-button vp-button--variant-floating-action vp-mobile-navigation__button flex items-center justify-center" aria-label="navigation.open.label">
                    <div class="vp-mobile-navigation__button__icon relative">
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                        <div class="absolute w-full"></div>
                    </div>
                </button>
            </div>
        </div>

        <script src="js/app.js"></script>
    </body>
</html>