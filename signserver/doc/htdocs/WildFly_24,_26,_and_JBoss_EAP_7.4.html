<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <title>WildFly 24, 26, and JBoss EAP 7.4 - SignServer - Documentation Space</title> -->
    <title>WildFly 24, 26, and JBoss EAP 7.4 - SignServer Manual</title>

    <meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">

<script type="text/javascript" src="assets/js/jquery.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.scrollTo.min.js"></script>


<script type="text/javascript" src="assets/js/scroll-tree.js"></script>

<script type="text/javascript" src="assets/js/theme.main.js"></script>


<link rel="stylesheet" href="assets/css/content-style.css">
    <link rel="stylesheet" href="assets/css/search.css">

<link rel="stylesheet" href="assets/css/theme.main.css">
<link rel="stylesheet" href="assets/css/theme.colors.css">

            <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>
        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord, queryId: message.queryId});
            }
        }

    </script>
    </head>

<body pageid="181288951">

<div id="ht-loader">
    <noscript>
        <p style="width: 100%; text-align:center; position: absolute; margin-top: 200px;">This content cannot be displayed without JavaScript.<br>Please enable JavaScript and reload the page.</p>
    </noscript>
</div>

<div>
   	<header id="ht-headerbar">
    <div class="ht-headerbar-left">
        <a href="" id="ht-menu-toggle" class="sp-aui-icon-small sp-aui-iconfont-appswitcher"></a>
    </div>
    <div class="ht-headerbar-right">
            <div class="sp-aui-icon-small ht-search-index-loader ht-header-icon"></div>

        <div id="ht-search">
            <div class="ht-search-input" style="display: none;">
              	<a href="#" class="sp-aui-icon-small sp-aui-iconfont-remove ht-search-clear"></a>

                <form action="#" method="GET" id="search">
                    <input class="search-input" type="text" placeholder="Search" tabindex="-1" autocomplete="off" name="q" value="">
                    <input type="hidden" name="max" value="15" />
                    <input type="submit" style="display:none" tabindex="-4"/>
                </form>

                <a href="#" id="ht-search-button" class="ht-header-icon ht-header-icon-svg">
                                        <svg width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path d="M29.572,28.802 L28.801,29.571 C28.515,29.857 28.187,30 27.816,30 C27.445,30 27.116,29.857 26.831,29.571 L21.392,24.134 C20.193,24.762 18.908,25.076 17.538,25.076 C15.396,25.076 13.605,24.348 12.163,22.892 C10.721,21.436 10,19.651 10,17.538 C10,15.397 10.721,13.605 12.163,12.163 C13.605,10.721 15.396,10 17.538,10 C19.651,10 21.434,10.721 22.89,12.163 C24.347,13.605 25.075,15.397 25.075,17.538 C25.075,18.937 24.761,20.222 24.132,21.393 L29.572,26.832 C29.857,27.118 30,27.446 30,27.817 C30,28.188 29.857,28.517 29.572,28.802 L29.572,28.802 Z M13.662,21.414 C14.732,22.485 16.024,23.02 17.538,23.02 C19.051,23.02 20.343,22.485 21.413,21.414 C22.484,20.344 23.019,19.052 23.019,17.538 C23.019,16.025 22.484,14.733 21.413,13.662 C20.343,12.592 19.051,12.056 17.538,12.056 C16.024,12.056 14.732,12.592 13.662,13.662 C12.591,14.733 12.056,16.025 12.056,17.538 C12.056,19.052 12.591,20.344 13.662,21.414 L13.662,21.414 Z"></path>
                        </g>
                    </svg>
              	</a>

                <div class="ht-search-dropdown ht-dropdown">
                    <ul></ul>
                </div>
            </div>
        </div>
    </div>
    </header>   	<aside id="ht-sidebar">
    <div class="ht-sidebar-content">
        <div class="ht-sidebar-content-scroll-container">
            <header class="ht-sidebar-header">
                <h1 class="ht-logo">
                    <span class="ht-logo-label">SIGNDS</span>
                    <!-- <img class="space-logo" src="SIGNDS.png" /> -->
                    <a href="../"><img src="projectlogo.png"></a>
                </h1>
                <div class="ht-version">
                    <p>Version: 6.1.0</p>
                </div>
            </header>

            <a href="SignServer_Manual.html" class="ht-space-link">
                <!-- <h2>SignServer - Documentation Space</h2> -->
                <h2>SignServer Manual</h2>
            </a>

            <nav class="ht-pages-nav">
                <ul class="ht-pages-nav-top">
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Introduction.html">SignServer Introduction</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Architecture_and_Concepts.html">Architecture and Concepts</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Interoperability.html">Interoperability</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Installation.html">SignServer Installation</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Prerequisites.html">Prerequisites</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Install_Java.html">Install Java</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Database_Setup.html">Database Setup</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Application_Server_Setup.html">Application Server Setup</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link current" href="WildFly_24%2C_26%2C_and_JBoss_EAP_7.4.html">WildFly 24, 26, and JBoss EAP 7.4</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Install_SignServer.html">Install SignServer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SignServer_without_Database.html">SignServer without Database</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Upgrade_SignServer.html">Upgrade SignServer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Migrate_from_SunPKCS11_to_P11NG.html">Migrate from SunPKCS11 to P11NG</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Upgrade_Notes.html">Upgrade Notes</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Operations.html">SignServer Operations</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Worker_Setup.html">Worker Setup</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Quick_Start_Demo_Setup_using_Administration_CLI.html">Quick Start Demo Setup using Administration CLI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Quick_Start_Demo_Setup_using_Administration_Web.html">Quick Start Demo Setup using Administration Web</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configure_Client_Certificate_Authentication_and_Authorization.html">Configure Client Certificate Authentication and Authorization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Renewals_Using_Peer_Systems.html">Certificate Renewals Using Peer Systems</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_Android_Signing.html">Setting up Android Signing</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_Key_Wrapping.html">Setting up Key Wrapping</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_One-time_Keys.html">Setting up One-time Keys</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_OpenPGP_Signer.html">Setting up OpenPGP Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Setting_up_Request_Prioritization.html">Setting up Request Prioritization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Troubleshooting.html">Troubleshooting</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Integration.html">SignServer Integration</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Client_HTTP_Interface.html">Client HTTP Interface</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Client_WS_Interface.html">Client WS Interface</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="REST_Interface.html">REST Interface</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Client_CLI.html">Client CLI</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="signdocument.html">signdocument</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="validatedocument.html">validatedocument</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="timestamp.html">timestamp</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="validatecertificate.html">validatecertificate</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="signdatagroups.html">signdatagroups</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Admin_WS_Interface.html">Admin WS Interface</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Legacy_Interfaces.html">Legacy Interfaces</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Apache_HTTP_Server_as_Reverse_Proxy.html">Apache HTTP Server as Reverse Proxy</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Stresstest_CLI.html">Stresstest CLI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="P11NG_CLI.html">P11NG CLI</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SNTP_Tool.html">SNTP Tool</a>

            </li>
                            </ul>
            </li>
                                                <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Reference.html">SignServer Reference</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Deploy-time_Configuration.html">Deploy-time Configuration</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Workers.html">SignServer Workers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Common_Configuration.html">Common Configuration</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Generic_Worker_Properties.html">Generic Worker Properties</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Authorization_Type.html">Authorization Type</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Archiving.html">Archiving</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Accounter.html">Accounter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Validity_Checks.html">Certificate Validity Checks</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Limiting_the_number_of_signatures.html">Limiting the number of signatures</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Other_Properties.html">Other Properties</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Signers.html">SignServer Signers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Common_Properties.html">Common Properties</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Signers_Algorithm_Support.html">Signers Algorithm Support</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="AdES_Signer.html">AdES Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="AdES_Signer_Algorithm_Support.html">AdES Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="APK_Signer.html">APK Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="APK_Hash_Signer.html">APK Hash Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="APK_Lineage_Signer.html">APK Lineage Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="APK_Rotate_Signer.html">APK Rotate Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Appx_CMS_Signer.html">Appx CMS Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Appx_Signer.html">Appx Signer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="CMS_Signer.html">CMS Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CMS_Signer_Algorithm_Support.html">CMS Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Debian_Dpkg-sig_Signer.html">Debian Dpkg-sig Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Extended_CMS_Signer.html">Extended CMS Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Extended_Time_Stamp_Signer.html">Extended Time Stamp Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="JArchive_CMS_Signer.html">JArchive CMS Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="JArchive_Signer.html">JArchive Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MRTD_Signer.html">MRTD Signer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="MRTD_SOD_Signer.html">MRTD SOD Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MRTD_SOD_Signer_Algorithm_Support.html">MRTD SOD Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Master_List_Signer.html">Master List Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MS_Authenticode_CMS_Signer.html">MS Authenticode CMS Signer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="MS_Authenticode_Signer.html">MS Authenticode Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MS_Authenticode_Signer_Algorithm_Support.html">MS Authenticode Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="MS_Authenticode_Time_Stamp_Signer.html">MS Authenticode Time Stamp Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OpenPGP_Signer.html">OpenPGP Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OpenPGPPlain_Signer.html">OpenPGPPlain Signer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="PDF_Signer.html">PDF Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="PDF_Signer_Algorithm_Support.html">PDF Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Plain_Signer.html">Plain Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Plain_Signer_Algorithm_Support.html">Plain Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="QoS_Status_Worker.html">QoS Status Worker</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Time_Stamp_Signer.html">Time Stamp Signer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Time_Stamp_Signer_Algorithm_Support.html">Time Stamp Signer Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="XAdES_Signer.html">XAdES Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="XML_Signer.html">XML Signer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ZoneFileServerSideSigner.html">ZoneFileServerSideSigner</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ZoneHashSigner.html">ZoneHashSigner</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="ZoneZipFileServerSideSigner.html">ZoneZipFileServerSideSigner</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Document_Validators.html">SignServer Document Validators</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="XML_Validator.html">XML Validator</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="XAdEs_Validator.html">XAdEs Validator</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Dispatchers.html">SignServer Dispatchers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="FirstActiveDispatcher.html">FirstActiveDispatcher</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="RequestedPolicyDispatcher.html">RequestedPolicyDispatcher</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="UserMappedDispatcher.html">UserMappedDispatcher</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Validation_Service_Framework.html">SignServer Validation Service Framework</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="DefaultValidationService.html">DefaultValidationService</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Certificate_Validators.html">Certificate Validators</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="The_Validation_CLI_interface.html">The Validation CLI interface</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Timed_Services.html">SignServer Timed Services</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SignerStatusReportTimedService.html">SignerStatusReportTimedService</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="HSMKeepAliveTimedService.html">HSMKeepAliveTimedService</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="RenewalTimedService.html">RenewalTimedService</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Other_Workers.html">Other Workers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CryptoWorker.html">CryptoWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="RenewalWorker.html">RenewalWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="StatusPropertiesWorker.html">StatusPropertiesWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="TimeMonitorManager.html">TimeMonitorManager</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="TimeMonitorStatusReportWorker.html">TimeMonitorStatusReportWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SignerStatusReportWorker.html">SignerStatusReportWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="P11NGKeyWrappingCryptoWorker.html">P11NGKeyWrappingCryptoWorker</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OneTimeCryptoWorker.html">OneTimeCryptoWorker</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_Components.html">SignServer Components</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="CryptoTokens.html">CryptoTokens</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="General_properties.html">General properties</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="PKCS11CryptoToken.html">PKCS11CryptoToken</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Algorithm_Support.html">Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="P11NGCryptoToken.html">P11NGCryptoToken</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Algorithm_Support2.html">Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="P11NGKeyWrappingCryptoToken.html">P11NGKeyWrappingCryptoToken</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="AzureKeyVaultCryptoToken.html">AzureKeyVaultCryptoToken</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="FortanixCryptoToken.html">FortanixCryptoToken</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Algorithm_Support3.html">Algorithm Support</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="KeyStoreCryptoToken.html">KeyStoreCryptoToken</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Archivers.html">Archivers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="OldDatabaseArchiver.html">OldDatabaseArchiver</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Base64DatabaseArchiver.html">Base64DatabaseArchiver</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Accounters.html">Accounters</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="NoAccounter.html">NoAccounter</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="GlobalConfigSampleAccounter.html">GlobalConfigSampleAccounter</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Alias_Selectors.html">Alias Selectors</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="DefaultAliasSelector.html">DefaultAliasSelector</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="AuthorizedUsernameAliasSelector.html">AuthorizedUsernameAliasSelector</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="RequestMetadataAliasSelector.html">RequestMetadataAliasSelector</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Authorizers.html">Authorizers</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="No_Authorizer.html">No Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Client_Certificate_Authorizer.html">Client Certificate Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Username_Password_Authorizer.html">Username Password Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Username_Authorizer.html">Username Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Remote_Address_Authorizer.html">Remote Address Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="List_Based_Address_Authorizer.html">List Based Address Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Dispatched_Authorizer.html">Dispatched Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Cookie_Authorizer.html">Cookie Authorizer</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="JWT_Authorizer.html">JWT Authorizer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Signed_Request_Authorizer.html">Signed Request Authorizer</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Signed_Request_Specification.html">Signed Request Specification</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Logging.html">Logging</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Log.html">Worker Log</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="System_Log.html">System Log</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="CESeCore_Security_Events_Logger.html">CESeCore Security Events Logger</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Debug_Log.html">Debug Log</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Configure_Log4j_for_Audit_logs.html">Configure Log4j for Audit logs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Status_Repository_Logging.html">Status Repository Logging</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Client_Logging.html">Client Logging</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="SignServer_Authentication_and_Authorization.html">SignServer Authentication and Authorization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Status_Repository.html">Status Repository</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Health_Check.html">Health Check</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_TimeMonitor_Application.html">SignServer TimeMonitor Application</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Time_Requirements.html">Time Requirements</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Time_Sources_in_SignServer.html">Time Sources in SignServer</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_TimeMonitor_Overview.html">SignServer TimeMonitor Overview</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="TimeMonitor_Configuration.html">TimeMonitor Configuration</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Logging_and_Monitoring.html">Logging and Monitoring</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Set_up_a_Test_Time_Server_with_a_Simulated_Time.html">Set up a Test Time Server with a Simulated Time</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="How_to_Configure_TimeMonitor.html">How to Configure TimeMonitor</a>

            </li>
                            </ul>
            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="SignServer_User_Interfaces.html">SignServer User Interfaces</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Administration_CLI.html">Administration CLI</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Administration_Web.html">Administration Web</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Main_Page.html">Main Page</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Workers_Page.html">Workers Page</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Activation_Page.html">Workers Activation Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Deactivation_Page.html">Workers Deactivation Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Enable_Page.html">Workers Enable Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Disable_Page.html">Workers Disable Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Key_Generation_Page.html">Workers Key Generation Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Test_Key_Page.html">Workers Test Key Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_CSR_Page.html">Workers CSR Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Install_Certificates_Page.html">Workers Install Certificates Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Renewal_Page.html">Workers Renewal Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Removal_Page.html">Workers Removal Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Reload_from_Database_Page.html">Workers Reload from Database Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Export_Page.html">Workers Export Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Workers_Add_Page.html">Workers Add Page</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Worker_Page.html">Worker Page</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Status_Summary_Page.html">Worker Status Summary Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Status_Properties_Page.html">Worker Status Properties Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Configuration_Page.html">Worker Configuration Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Authorization_Page.html">Worker Authorization Page</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Worker_Crypto_Token_Page.html">Worker Crypto Token Page</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Crypto_Token_Generate_Key_Page.html">Crypto Token Generate Key Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Crypto_Token_Generate_CSR_Page.html">Crypto Token Generate CSR Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Crypto_Token_Import_Certificates_Page.html">Crypto Token Import Certificates Page</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Destroy_Key_Page.html">Worker Destroy Key Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Worker_Certificate_Details_Page.html">Worker Certificate Details Page</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Global_Configuration_Page.html">Global Configuration Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Administrators_Page.html">Administrators Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Audit_Log_Page.html">Audit Log Page</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Archive_Page.html">Archive Page</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Database_CLI.html">Database CLI</a>

            </li>
                            </ul>
            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Internationalization.html">Internationalization</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Peer_Systems.html">Peer Systems</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Client-Side_Hashing.html">Client-Side Hashing</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Key_Wrapping.html">Key Wrapping</a>

            </li>
                                        <li class="collapsed">
        <a class="ht-nav-page-link" href="Developer_Reference.html">Developer Reference</a>

                    <span class="sp-toggle sp-aui-icon-small ht-pages-nav-toggle">
                <svg id="icon-minus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
                <svg id="icon-plus" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
                    <g fill="#CCCCCC">
                        <rect x="11" y="7" width="2" height="10"></rect>
                        <rect x="7" y="11" width="10" height="2"></rect>
                    </g>
                </svg>
            </span>

            <ul class="nav ht-pages-nav-sub">
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Checking_Out_from_Source_Code_Repository.html">Checking Out from Source Code Repository</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Building_SignServer_with_Maven.html">Building SignServer with Maven</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="IDEs.html">IDEs</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Automated_Tests.html">Automated Tests</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="WebTest_Module.html">WebTest Module</a>

            </li>
                                        <li class="leaf">
        <a class="ht-nav-page-link" href="Coding_Conventions.html">Coding Conventions</a>

            </li>
                            </ul>
            </li>
                            </ul>
            </li>
                                    </ul>
            </nav>

            <div class="ht-sidebar-other">
                <h2>Other Resources</h2>
                <nav class="ht-pages-nav">
                    <ul class="ht-pages-nav-top">
                    <li class="leaf"><a class="ht-nav-page-link" href="https://www.signserver.org">signserver.org</a></li>
                    <li class="leaf"><a class="ht-nav-page-link" href="https://www.ejbca.org">ejbca.org</a></li>
                    <li class="leaf"><a class="ht-nav-page-link" href="https://www.primekey.com">primekey.com</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

</aside></div>

<div id="ht-wrap-container">

            
    <div id="ht-sidebar-dragbar">
    <div class="ht-sidebar-drag-handle">
        <span class="drag-handle-1"></span>
        <span class="drag-handle-2"></span>
        <span class="drag-handle-3"></span>
    </div>
</div>
    <article id="ht-content" class="ht-content">
        <header class="ht-content-header">
            <div id="ht-breadcrumb">
    <ul>
        <!-- <li><a href="SignServer_Manual.html">SignServer - Documentation Space</a></li> -->
        <li><a href="SignServer_Manual.html">SignServer Manual</a></li>
                                                                                                             <li><a href="" onclick="$('.shortcut').each(function(){$(this).removeClass('shortcut')}); $(this).parent().addClass('shortcut'); return false;">...</a> </li>
                                        <li class="shortcut"><a href="SignServer_Installation.html">SignServer Installation</a></li>
                                                                                     <li><a href="Application_Server_Setup.html">Application Server Setup</a></li>
                                                            </ul>
</div>            <h1 id="src-181283782"> <span>WildFly 24, 26, and JBoss EAP 7.4</span></h1>
        </header>

        <div id="main-content" class="wiki-content sp-grid-section" data-index-for-search="true">

    <div  class="confbox admonition admonition-info">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  class="section">Application Server specific information for WildFly 24 and 26. Also applicable for JBoss EAP 7.4.    </p>
        </div>
    </div>
    <p  class="section">This section provides information on configuring your application server.    </p>
    <p  class="section">    </p>
<ul class="toc-indentation "><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Eb3dubG9hZFdpbGRGbHk">Download WildFly</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVSRVNURWFzeS1DcnlwdG8">Remove RESTEasy-Crypto</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhQ3VzdG9tQ29uZmlndXJhdGlvbg">Create a Custom Configuration</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXaWxkRmx5YXNhU2VydmljZShPcHRpb25hbCk">Configure WildFly as a Service (Optional)</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TdGFydFdpbGRGbHk">Start WildFly</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhbkVseXRyb25DcmVkZW50aWFsU3RvcmU">Create an Elytron Credential Store</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGREYXRhYmFzZURyaXZlcg">Add Database Driver</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRhRGF0YXNvdXJjZQ">Add a Datasource</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXaWxkRmx5UmVtb3Rpbmc">Configure WildFly Remoting</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVMb2dnaW5n">Configure Logging</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1IVFRQKFMpQ29uZmlndXJhdGlvbg">HTTP(S) Configuration</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXZWJTZXJ2aWNlc1dTRExMb2NhdGlvblJld3JpdGU">Configure Web Services WSDL Location Rewrite</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1PcHRpb25hbENvbmZpZ3VyYXRpb24">Optional Configuration</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1QZXJmb3JtYW5jZVR1bmluZw">Performance Tuning</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhU25hcHNob3RvZnRoZUNvbmZpZ3VyYXRpb24">Create a Snapshot of the Configuration</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhVGVybWluYWxBbGlhc2ZvclJlYWRpbmd0aGVMb2dGaWxl">Create a Terminal Alias for Reading the Log File</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DbGVhckNvbW1hbmRMaW5lSGlzdG9yeQ">Clear Command Line History</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZWZlcmVuY2Vz">References</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1OZXh0U3RlcDpJbnN0YWxsU2lnblNlcnZlcg">Next Step: Install SignServer</a>    </p>
</li><li class=" ">    <p  ><a   href="#src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1EZWJ1Z1NpZ25TZXJ2ZXI">Debug SignServer</a>    </p>
</li></ul>    <p  >    </p>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Eb3dubG9hZFdpbGRGbHk">
        <h1 class="heading "><span>Download WildFly</span></h1>
    <p  >WildFly can either be downloaded as a zip package or customized using Galleon. We recommend you to use Galleon, since it only downloads the components you need, as opposed to using the zip package, which bundles all configurations and JBoss modules (SignServer is only using a subset of all functionality in WildFly).    </p>
    <p  >WildFly is usually put in the <tt class=" ">/opt</tt> folder on Linux systems, and using a symlink to the WildFly folder makes it easy to switch to a new version of WildFly by simply overriding the symlink.    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Vc2luZ3RoZVppcFBhY2thZ2U">
        <h2 class="heading "><span>Using the Zip Package</span></h2>
    <p  >You need to use the <i class=" ">Jakarta EE Full &amp; Web Distribution</i> package of WildFly when downloading the zip package. If you have not downloaded WildFly already, you can use the following command to do so:    </p>
    <div  class="confbox programlisting">
                    <div class="title">Download and unpack the WildFly zip package</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Download and unpack the WildFly zip package" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wget https:</code><code class="plain">//download</code><code class="plain">.jboss.org</code><code class="plain">/wildfly/26</code><code class="plain">.1.3.Final</code><code class="plain">/wildfly-26</code><code class="plain">.1.3.Final.zip -O </code><code class="plain">/tmp/wildfly-24</code><code class="plain">.0.1.Final.zip</code></div>
<div class="line"><code class="plain">unzip -q </code><code class="plain">/tmp/wildfly-24</code><code class="plain">.0.1.Final.zip -d </code><code class="plain">/opt/</code></div>
<div class="line"><code class="functions">ln</code><code class="plain"> -snf </code><code class="plain">/opt/wildfly-24</code><code class="plain">.0.1.Final </code><code class="plain">/opt/wildfly</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Vc2luZ0dhbGxlb24">
        <h2 class="heading label"><span>Using Galleon</span></h2>
    <p  >Instead of downloading the WildFly zip package containing everything (all default server configurations and all JBoss modules), using Galleon tooling you can choose to only install the components needed by SignServer.    </p>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Eb3dubG9hZEdhbGxlb24">
        <h3 class="heading "><span>Download Galleon</span></h3>
    <p  >Galleon is provided as a zip package from GitHub which you can download and run without any installation.    </p>
    <div  class="confbox programlisting">
                    <div class="title">Download Galleon</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Download Galleon" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wget https:</code><code class="plain">//github</code><code class="plain">.com</code><code class="plain">/wildfly/galleon/releases/download/4</code><code class="plain">.2.8.Final</code><code class="plain">/galleon-4</code><code class="plain">.2.8.Final.zip -O </code><code class="plain">/tmp/galleon-4</code><code class="plain">.2.8.Final.zip</code></div>
<div class="line"><code class="plain">unzip -q </code><code class="plain">/tmp/galleon-4</code><code class="plain">.2.8.Final.zip -d </code><code class="plain">/tmp/</code></div>
<div class="line"><code class="functions">cd</code><code class="plain"> </code><code class="plain">/tmp/galleon-4</code><code class="plain">.2.8.Final</code><code class="plain">/bin</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1MYXllcnNVc2VkQnlTaWduU2VydmVy">
        <h3 class="heading "><span>Layers Used By SignServer</span></h3>
    <p  >The table below lists the Galleon layers used by SignServer.    </p>
    <p  >The<tt class=" "> core-tools</tt> layer will include the JBoss and Elytron CLI which comes in handy if the Elytron credential store or the <tt class=" ">standalone.xml</tt> configuration file need to be tweaked later. If you don&#39;t need this, exclude the <tt class=" ">core-tools</tt> and <tt class=" ">management</tt> layers and add <tt class=" ">elytron</tt> separately. <tt class=" ">bean-validation</tt> can be excluded as well, but is good to have, at least in staging environments. Picketbox-based web security is required for SignServer to detect authentication using client certificates.    </p>
    <div  class="tablewrap">
        <table class="wrapped confluenceTable">
                    <colgroup>
                                    <col />
                                    <col />
                                    <col />
                            </colgroup>
        <thead class=" ">    <tr>
            <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  class="tableblock">Name    </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  class="tableblock">Description    </p>
            </td>
                <td  class="confluenceTh" rowspan="1" colspan="1">
        <p  class="tableblock">Dependencies    </p>
            </td>
        </tr>
</thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">cdi    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for Jakarta Contexts and Dependency Injection.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server<br/>bean-validation (optional)    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">core-tools    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for <i class=" ">jboss-cli</i>, <i class=" ">add-user</i> and <i class=" ">elytron-tool</i> launch scripts and configuration files.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">management (optional)    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">datasources    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for datasources.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">transactions    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">deployment-scanner    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for deployment directory scanning.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">discovery    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for discovery.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">ee    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for common functionality in the Jakarta EE platform.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">jsonb (optional)<br/>naming    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">ejb    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for Jakarta Enterprise Beans, excluding the IIOP protocol.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">ejb-lite<br/>messaging-activemq<br/>remoting<br/>resource-adapters<br/>undertow    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">io    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for XNIO workers and buffer pools.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">jaxrs    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for JAXRS.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">web-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">jpa    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for JPA (using the latest WildFly supported Hibernate release).<br/><i class=" ">Alternative:</i> jpa-distributed    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">bean-validation (optional)<br/>datasources    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">jsf    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for Jakarta Server Faces.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">bean-validation (optional)<br/>cdi (optional)<br/>web-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">logging    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for the logging subsystem.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">mail    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for Jakarta Mail.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">base-server<br/>naming    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">management    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for remote access to management interfaces secured using Elytron.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">elytron    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">webservices    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for Jakarta XML Web Services    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">ejb-lite (optional)<br/>messaging-activemq (optional)<br/>web-server    </p>
            </td>
        </tr>
    <tr>
            <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">legacy-security    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">Support for legacy Picketbox-based web security.    </p>
            </td>
                <td  class="confluenceTd" rowspan="1" colspan="1">
        <p  class="tableblock">naming<br/>vault    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Eb3dubG9hZGFuZENvbmZpZ3VyZVdpbGRGbHlVc2luZ0dhbGxlb24">
        <h3 class="heading "><span>Download and Configure WildFly Using Galleon</span></h3>
    <p  >    <span style="color: #000000;">
Galleon can download and extract WildFly to the directory specified using the <tt class=" ">install</tt> command. SignServer is running on a standalone server, and only this server configuration is needed. For a typical installation, use the following CLI recipe:    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">Download and build WildFly using Galleon</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Download and build WildFly using Galleon" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">.</code><code class="plain">/galleon</code><code class="plain">.sh </code><code class="functions">install</code><code class="plain"> wildfly:current</code><code class="comments">#26.1.3.Final --dir=/opt/wildfly-26.1.3.Final --default-configs=standalone/standalone.xml --layers=cdi,core-tools,datasources,deployment-scanner,discovery,ee,-jsonb,ejb,io,jaxrs,jpa,jsf,logging,mail,management,webservices</code></div>
<div class="line"><code class="functions">ln</code><code class="plain"> -snf </code><code class="plain">/opt/wildfly-24</code><code class="plain">.0.1.Final </code><code class="plain">/opt/wildfly</code><code class="plain">  </code></div>
</div>
    </div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVSRVNURWFzeS1DcnlwdG8">
        <h1 class="heading label"><span>Remove RESTEasy-Crypto</span></h1>
    <p  >    <span style="color: #000000;">
The application server can sometimes load its own version of Bouncy Castle, resulting in incompatibility and/or conflict issues.    </span>
    </p>
    <p  >    <span style="color: #000000;">
A typical error occurring as a consequence of the wrong Bouncy Castle being loaded in SignServer is:    </span>
    </p>
    <blockquote>
    <p  >    <span style="color: #000000;">
ClassCastException setting BagAttributes, can not set friendly name: : java.lang.ClassCastException: org.bouncycastle.jcajce.provider.asymmetric.x509.X509CertificateObject cannot be cast to org.bouncycastle.jce.interfaces.PKCS12BagAttributeCarrier    </span>
    </p>
        </blockquote>
    <p  >    <span style="color: #000000;">
To avoid issues and prevent WildFly from loading the Bouncy Castle library included in the RESTEasy-Crypto module, rather than the library included in SignServer, run the following:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">sed -i </code><code class="string">'/.*org.jboss.resteasy.resteasy-crypto.*/d'</code><code class="plain"> /opt/wildfly/modules/system/layers/base/org/jboss/as/jaxrs/main/module.xml</code></div>
<div class="line"><code class="plain">rm -rf /opt/wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-crypto/</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhQ3VzdG9tQ29uZmlndXJhdGlvbg">
        <h1 class="heading "><span>Create a Custom Configuration</span></h1>
    <p  >    <span style="color: #000000;">
Replace <tt class=" ">/opt/wildfly/bin/standalone.conf</tt> with the following Jinja2 template.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">/opt/wildfly/bin/standalone.conf</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/opt/wildfly/bin/standalone.conf" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">if</code><code class="plain"> [ </code><code class="string">"x$JBOSS_MODULES_SYSTEM_PKGS"</code><code class="plain"> = </code><code class="string">"x"</code><code class="plain"> ]; </code><code class="keyword">then</code></div>
<div class="line"><code class="plain">     JBOSS_MODULES_SYSTEM_PKGS=</code><code class="string">"org.jboss.byteman"</code></div>
<div class="line"><code class="keyword">fi</code></div>
<div class="line"> </div>
<div class="line"><code class="keyword">if</code><code class="plain"> [ </code><code class="string">"x$JAVA_OPTS"</code><code class="plain"> = </code><code class="string">"x"</code><code class="plain"> ]; </code><code class="keyword">then</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"-Xms{{ HEAP_SIZE }}m -Xmx{{ HEAP_SIZE }}m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Dhttps.protocols=TLSv1.2,TLSv1.3"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djdk.tls.client.protocols=TLSv1.2,TLSv1.3"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djava.net.preferIPv4Stack=true"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djboss.modules.system.pkgs=$JBOSS_MODULES_SYSTEM_PKGS"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djava.awt.headless=true"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djboss.tx.node.id={{ TX_NODE_ID }}"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -XX:+HeapDumpOnOutOfMemoryError"</code></div>
<div class="line"><code class="plain">     JAVA_OPTS=</code><code class="string">"$JAVA_OPTS -Djdk.tls.ephemeralDHKeySize=2048"</code></div>
<div class="line"><code class="keyword">else</code></div>
<div class="line"><code class="plain">     </code><code class="functions">echo</code><code class="plain"> </code><code class="string">"JAVA_OPTS already set in environment; overriding default settings with values: $JAVA_OPTS"</code></div>
<div class="line"><code class="keyword">fi</code></div>
</div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TZXRBbGxvd2VkTWVtb3J5VXNhZ2U">
        <h2 class="heading "><span>Set Allowed Memory Usage</span></h2>
    <p  >    <span style="color: #000000;">
By default, 512 MB of heap (RAM) is allowed to be used by the application server. This is not sufficient to run SignServer. We recommend to allocate at least 2048 MB of RAM. To increase the default value, run the following command:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">sed</code><code class="plain"> -i -e </code><code class="string">'s/{{ HEAP_SIZE }}/2048/g'</code><code class="plain"> </code><code class="plain">/opt/wildfly/bin/standalone</code><code class="plain">.conf</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TZXR0aGVUcmFuc2FjdGlvbk5vZGVJRA">
        <h2 class="heading "><span>Set the Transaction Node ID</span></h2>
    <p  >    <span style="color: #000000;">
Set the transaction node ID to a unique number. The node ID is used by the <tt class=" ">transactions</tt> subsystem and ensures that the transaction manager only recovers branches which match the specified identifier. It is imperative that this identifier is unique between WildFly instances sharing either an object store or access common resource managers (i.e. when multiple SignServer instances access the same database).    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">sed</code><code class="plain"> -i -e </code><code class="string">"s/{{ TX_NODE_ID }}/$(od -A n -t d -N 1 /dev/urandom | tr -d ' ')/g"</code><code class="plain"> </code><code class="plain">/opt/wildfly/bin/standalone</code><code class="plain">.conf</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXaWxkRmx5YXNhU2VydmljZShPcHRpb25hbCk">
        <h1 class="heading "><span>Configure WildFly as a Service (Optional) </span></h1>
    <p  >    <span style="color: #000000;">
Modern Linux systems use systemd to start and stop services. The WildFly zip package already contains the necessary files to run as a service, but they need to be installed manually. Once started as a service, WildFly will run as the <tt class=" ">wildfly</tt> user, and you need to add this user as well.    </span>
    </p>
    <p  >    <span style="color: #000000;">
The following provides a suggestion for setting up WildFly as a systemd service. Note that the example may need to be adapted according to the system you are using.<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">cp</code><code class="plain"> </code><code class="plain">/opt/wildfly/docs/contrib/scripts/systemd/launch</code><code class="plain">.sh </code><code class="plain">/opt/wildfly/bin</code></div>
<div class="line"><code class="functions">cp</code><code class="plain"> </code><code class="plain">/opt/wildfly/docs/contrib/scripts/systemd/wildfly</code><code class="plain">.service </code><code class="plain">/etc/systemd/system</code></div>
<div class="line"><code class="functions">mkdir</code><code class="plain"> </code><code class="plain">/etc/wildfly</code></div>
<div class="line"><code class="functions">cp</code><code class="plain"> </code><code class="plain">/opt/wildfly/docs/contrib/scripts/systemd/wildfly</code><code class="plain">.conf </code><code class="plain">/etc/wildfly</code></div>
<div class="line"><code class="plain">systemctl daemon-reload</code></div>
<div class="line"><code class="functions">useradd</code><code class="plain"> -r -s </code><code class="plain">/bin/false</code><code class="plain"> wildfly</code></div>
<div class="line"><code class="functions">chown</code><code class="plain"> -R wildfly:wildfly </code><code class="plain">/opt/wildfly-26</code><code class="plain">.1.3.Final/</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
The <tt class=" ">docs</tt> directory does not exist when using Galleon. For reference, this is what the missing files look like:    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">/opt/wildfly/docs/contrib/scripts/systemd/launch.sh</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/opt/wildfly/docs/contrib/scripts/systemd/launch.sh" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">#!/bin/bash</code></div>
<div class="line"><code class="keyword">if</code><code class="plain"> [ </code><code class="string">"x$WILDFLY_HOME"</code><code class="plain"> = </code><code class="string">"x"</code><code class="plain"> ]; </code><code class="keyword">then</code></div>
<div class="line"><code class="plain">    WILDFLY_HOME=</code><code class="string">"/opt/wildfly"</code></div>
<div class="line"><code class="keyword">fi</code></div>
<div class="line"><code class="keyword">if</code><code class="plain"> [[ </code><code class="string">"$1"</code><code class="plain"> == </code><code class="string">"domain"</code><code class="plain"> ]]; </code><code class="keyword">then</code></div>
<div class="line"><code class="plain">    $WILDFLY_HOME</code><code class="plain">/bin/domain</code><code class="plain">.sh -c $2 -b $3</code></div>
<div class="line"><code class="keyword">else</code></div>
<div class="line"><code class="plain">    $WILDFLY_HOME</code><code class="plain">/bin/standalone</code><code class="plain">.sh -c $2 -b $3</code></div>
<div class="line"><code class="keyword">fi</code></div>
</div>
    </div>
    <div  class="confbox programlisting">
                    <div class="title">/opt/wildfly/docs/contrib/scripts/systemd/wildfly.service</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/opt/wildfly/docs/contrib/scripts/systemd/wildfly.service" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">[Unit]</code></div>
<div class="line"><code class="plain">Description=The WildFly Application Server</code></div>
<div class="line"><code class="plain">After=syslog.target network.target</code></div>
<div class="line"><code class="plain">Before=httpd.service</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">[Service]</code></div>
<div class="line"><code class="plain">Environment=LAUNCH_JBOSS_IN_BACKGROUND=1</code></div>
<div class="line"><code class="plain">EnvironmentFile=-</code><code class="plain">/etc/wildfly/wildfly</code><code class="plain">.conf</code></div>
<div class="line"><code class="plain">User=wildfly</code></div>
<div class="line"><code class="plain">LimitNOFILE=102642</code></div>
<div class="line"><code class="plain">PIDFile=</code><code class="plain">/var/run/wildfly/wildfly</code><code class="plain">.pid</code></div>
<div class="line"><code class="plain">ExecStart=</code><code class="plain">/opt/wildfly/bin/launch</code><code class="plain">.sh $WILDFLY_MODE $WILDFLY_CONFIG $WILDFLY_BIND</code></div>
<div class="line"><code class="plain">StandardOutput=null</code></div>
<div class="line"> </div>
<div class="line"><code class="plain">[Install]</code></div>
<div class="line"><code class="plain">WantedBy=multi-user.target</code></div>
</div>
    </div>
    <div  class="confbox programlisting">
                    <div class="title">/opt/wildfly/docs/contrib/scripts/systemd/wildfly.conf</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/opt/wildfly/docs/contrib/scripts/systemd/wildfly.conf" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments"># The configuration you want to run</code></div>
<div class="line"><code class="plain">WILDFLY_CONFIG=standalone.xml</code></div>
<div class="line"> </div>
<div class="line"><code class="comments"># The mode you want to run</code></div>
<div class="line"><code class="plain">WILDFLY_MODE=standalone</code></div>
<div class="line"> </div>
<div class="line"><code class="comments"># The address to bind to</code></div>
<div class="line"><code class="plain">WILDFLY_BIND=0.0.0.0</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TdGFydFdpbGRGbHk">
        <h1 class="heading "><span>Start WildFly </span></h1>
    <p  >    <span style="color: #000000;">
The following provides two examples for starting WildFly,     </span>
    <span style="color: #000000;">
one if you are using a systemd service in the background and alternatively for starting WildFly in a separate terminal for testing.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TdGFydFdpbGRGbHlpbnN0YWxsZWRhc2FzeXN0ZW1kc2VydmljZQ">
        <h2 class="heading "><span>Start WildFly installed as a systemd service</span></h2>
    <p  >    <span style="color: #000000;">
To start    </span>
    <span style="color: #000000;">
     </span>
    <span style="color: #000000;">
WildFly installed as a systemd service:<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">systemctl start wildfly</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TdGFydFdpbGRGbHlpbmFzZXBhcmF0ZXRlcm1pbmFsZm9ydGVzdGluZw">
        <h2 class="heading auto-cursor-target"><span>Start WildFly in a separate terminal for testing</span></h2>
    <p  >    <span style="color: #000000;">
Alternatively, start WildFly in a separate terminal for quick testing:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/standalone.sh</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhbkVseXRyb25DcmVkZW50aWFsU3RvcmU">
        <h1 class="heading "><span>Create an Elytron Credential Store</span></h1>
    <p  >    <span style="color: #000000;">
You can protect passwords by storing them in a credential store. The credential is encrypted with a master password which is fetched by WildFly on startup.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhTWFzdGVyUGFzc3dvcmQ">
        <h2 class="heading "><span>Create a Master Password</span></h2>
    <p  >    <span style="color: #000000;">
Create a script which outputs the master password to <tt class=" ">stdout</tt> and ensure the script can only be executed by the <tt class=" ">wildfly</tt> user.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">echo</code><code class="plain"> </code><code class="string">'#!/bin/sh'</code><code class="plain"> &gt; </code><code class="plain">/usr/bin/wildfly_pass</code></div>
<div class="line"><code class="functions">echo</code><code class="plain"> </code><code class="string">"echo '$(openssl rand -base64 24)'"</code><code class="plain"> &gt;&gt; </code><code class="plain">/usr/bin/wildfly_pass</code></div>
<div class="line"><code class="functions">chown</code><code class="plain"> wildfly:wildfly </code><code class="plain">/usr/bin/wildfly_pass</code></div>
<div class="line"><code class="functions">chmod</code><code class="plain"> 700 </code><code class="plain">/usr/bin/wildfly_pass</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGV0aGVDcmVkZW50aWFsU3RvcmU">
        <h2 class="heading "><span>Create the Credential Store</span></h2>
    <p  >    <span style="color: #000000;">
Create a credential store in<tt class=" "> /opt/wildfly/standalone/configuration</tt> encrypted with the password echoed by the<tt class=" "> wildfly_pass</tt> script.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">mkdir</code><code class="plain"> </code><code class="plain">/opt/wildfly/standalone/configuration/keystore</code></div>
<div class="line"><code class="functions">chown</code><code class="plain"> wildfly:wildfly </code><code class="plain">/opt/wildfly/standalone/configuration/keystore</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add(location=keystore/credentials, relative-to=jboss.server.config.dir, credential-reference={clear-text="{EXT}/usr/bin/wildfly_pass", type="COMMAND"}, create=true)'</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGREYXRhYmFzZURyaXZlcg">
        <h1 class="heading "><span>Add Database Driver</span></h1>
    <p  >    <span style="color: #000000;">
For most database management systems, the JDBC driver can be added by hot-deploying it into the deployment directory. This will be picked up by WildFly and deployed so we can create a data source straight away. You can use a generic name, without version number, in order to get a generic <tt class=" ">driver-name</tt> for the data source command.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1NYXJpYURC">
        <h2 class="heading "><span>MariaDB</span></h2>
    <div  class="confbox programlisting">
                    <div class="title">Download and deploy MariaDB JDBC driver</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Download and deploy MariaDB JDBC driver" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wget https:</code><code class="plain">//dlm</code><code class="plain">.mariadb.com</code><code class="plain">/1785291/Connectors/java/connector-java-2</code><code class="plain">.7.4</code><code class="plain">/mariadb-java-client-2</code><code class="plain">.7.4.jar -O </code><code class="plain">/opt/wildfly/standalone/deployments/mariadb-java-client</code><code class="plain">.jar</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Qb3N0Z3JlU1FM">
        <h2 class="heading "><span>PostgreSQL</span></h2>
    <div  class="confbox programlisting">
                    <div class="title">Download and deploy PostgreSQL JDBC driver</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Download and deploy PostgreSQL JDBC driver" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wget https:</code><code class="plain">//jdbc</code><code class="plain">.postgresql.org</code><code class="plain">/download/postgresql-42</code><code class="plain">.3.1.jar -O </code><code class="plain">/opt/wildfly/standalone/deployments/postgresql-jdbc4</code><code class="plain">.jar</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRhRGF0YXNvdXJjZQ">
        <h1 class="heading "><span>Add a Datasource</span></h1>
    <p  >    <span style="color: #000000;">
To add a datasource for SignServer to use, run the commands in JBoss CLI according to the examples below.    </span>
    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >    <span style="color: #000000;">
Note that <tt class=" ">--driver-name</tt> is should be the same as the filename of the JAR file you copied in the step above.    </span>
    </p>
    <p  >    <span style="color: #000000;">
The <tt class=" ">--jndi-name</tt> is is defined by the property <tt class=" ">datasource.jndi-name</tt> in <tt class=" ">database.properties</tt>, and the default value is used in the following example.    </span>
    </p>
    <p  >    <span style="color: #000000;">
The <tt class=" ">--user-name</tt> and <tt class=" ">--password</tt> defines the username and password of the SignServer database user.<br/>    </span>
    </p>
        </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1NYXJpYURCLjE">
        <h2 class="heading "><span>MariaDB</span></h2>
    <p  >    <span style="color: #000000;">
For MariaDB, run the following:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect '/subsystem=elytron/credential-store=defaultCS:add-alias(alias=dbPassword, secret-value="signserver")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect 'data-source add --name=signserverds --connection-url="jdbc:</code><code class="comments">mysql://127.0.0.1:3306/signserver</code><code class="plain">" --jndi-name="java:/SignServerDS" --use-ccm=true --driver-name="mariadb-java-client.jar" --driver-class="org.mariadb.jdbc.Driver" --user-name="signserver" --credential-reference={store=defaultCS, alias=dbPassword} --validate-on-match=true --background-validation=false --prepared-statements-cache-size=50 --share-prepared-statements=true --min-pool-size=5 --max-pool-size=150 --pool-prefill=true --transaction-isolation=TRANSACTION_READ_COMMITTED --check-valid-connection-sql="select 1;"'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect ':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Qb3N0Z3JlU1FMLjE">
        <h2 class="heading "><span>PostgreSQL</span></h2>
    <p  >    <span style="color: #000000;">
For PostgreSQL, run the following:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=dbPassword, secret-value="signserver")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'data-source add --name=signserverds --connection-url="jdbc:postgresql://127.0.0.1/signserver" --jndi-name="java:/SignServerDS" --use-ccm=true --driver-name="postgresql-jdbc4.jar" --driver-class="org.postgresql.Driver" --user-name="signserver" --credential-reference={store=defaultCS, alias=dbPassword} --validate-on-match=true --background-validation=false --prepared-statements-cache-size=50 --share-prepared-statements=true --min-pool-size=5 --max-pool-size=150 --pool-prefill=true --transaction-isolation=TRANSACTION_READ_COMMITTED --check-valid-connection-sql="select 1;"'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXaWxkRmx5UmVtb3Rpbmc">
        <h1 class="heading "><span>Configure WildFly Remoting</span></h1>
    <p  >    <span style="color: #000000;">
SignServer needs to use JBoss Remoting for the SignServer Admin CLI to work. Configure it to use a separate port 4447 and remove any other dependency on remoting except for what SignServer needs.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=remoting/http-connector=http-remoting-connector:write-attribute(name=connector-ref,value=remoting)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=remoting:add(port=4447,interface=management)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=remoting:add(socket-binding=remoting,enable-http2=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVMb2dnaW5n">
        <h1 class="heading "><span>Configure Logging</span></h1>
    <p  >    <span style="color: #000000;">
Configure logging in WildFly to be able to dynamically change logging while the application server is running.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Mb2dnaW5nQ29uZmlndXJhdGlvbnM">
        <h2 class="heading "><span>Logging Configurations</span></h2>
    <p  >    <span style="color: #000000;">
Choose one of the logging configurations below.    </span>
    </p>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1PcHRpb24xLVJlY29tbWVuZGVkTG9nZ2luZw">
        <h3 class="heading "><span>Option 1 - Recommended Logging</span></h3>
    <p  >    <span style="color: #000000;">
INFO log level for <tt class=" ">org.signserver</tt> and <tt class=" ">org.cesecore</tt> etc. is recommended for production systems.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.signserver:add(level=INFO)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore:add(level=INFO)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.ejbca:add(level=INFO)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=com.keyfactor:add(level=INFO)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1PcHRpb24yLVF1aWV0TG9nZ2luZw">
        <h3 class="heading auto-cursor-target"><span>Option 2 - Quiet Logging</span></h3>
    <p  >    <span style="color: #000000;">
If you prefer more quiet logging, configure WildFly to only log audit log messages, warnings and errors.<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore.audit.impl.log4j.Log4jDevice:add(level=INFO)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.signserver:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.ejbca:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=com.keyfactor:add(level=WARN)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRpdGlvbmFsTG9nZ2luZ0NvbmZpZ3VyYXRpb24">
        <h3 class="heading "><span>Additional Logging Configuration</span></h3>
    <p  >    <span style="color: #000000;">
You may additionally want to add the following configuration:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.jboss.as.config:write-attribute(name=level, value=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.jboss.as:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.wildfly:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.xnio:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.hibernate:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.apache.cxf:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore.config.ConfigurationHolder:add(level=WARN)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.infinispan:add(level=WARN)'</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRBY2Nlc3NMb2dnaW5n">
        <h2 class="heading "><span>Add Access Logging</span></h2>
    <p  >    <span style="color: #000000;">
To log all requests processed by the server, similar to the Apache access log, add the following configuration:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/setting=access-log:add(pattern="%h %t \"%r\" %s \"%{i,User-Agent}\"", relative-to=jboss.server.log.dir, directory=access-logs)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=io.undertow.accesslog:add(level=INFO)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmV0aGVDb25zb2xlSGFuZGxlcg">
        <h2 class="heading "><span>Remove the Console Handler</span></h2>
    <p  >    <span style="color: #000000;">
Console logging is not used when running WildFly with systemd, and removing it can increase logging performance.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/root-logger=ROOT:remove-handler(name=CONSOLE)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/console-handler=CONSOLE:remove()'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVPbGRMb2dGaWxlcw">
        <h2 class="heading "><span>Remove Old Log Files</span></h2>
    <p  >    <span style="color: #000000;">
Log files are rotated on a daily basis by default, but old log files are not deleted automatically. You can delete old log files using a cronjob:    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">/etc/cron.daily/remove-old-wildfly-logs.sh</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/etc/cron.daily/remove-old-wildfly-logs.sh" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="comments">#!/bin/sh</code></div>
<div class="line"><code class="comments"># Remove log files older than 7 days</code></div>
<div class="line"><code class="functions">find</code><code class="plain"> </code><code class="plain">/opt/wildfly/standalone/log/</code><code class="plain"> -</code><code class="functions">type</code><code class="plain"> f -mtime +7 -name </code><code class="string">'server.log*'</code><code class="plain"> -execdir </code><code class="functions">rm</code><code class="plain"> -- </code><code class="string">'{}'</code><code class="plain"> \;</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Make the file executable:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">chmod +x /etc/cron.daily/remove-old-wildfly-logs.sh</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVTeXNsb2dTaGlwcGluZw">
        <h2 class="heading "><span>Enable Syslog Shipping</span></h2>
    <p  >    <span style="color: #000000;">
To additionally send the server log over UDP to a syslog server such as Graylog or Logstash, configure a syslog handler in WildFly. Set the hostname and port of the syslog server, as well as the desired log level according to the following example:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/json-formatter=logstash:add(exception-output-type=formatted, key-overrides=[timestamp="@timestamp"],meta-data=[@version=1])'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">"/subsystem=logging/syslog-handler=syslog-shipping:add(app-name=SignServer,enabled=true,facility=local-use-0,hostname=$(hostname -f),level=INFO,named-formatter=logstash,port=514,server-address=syslog.server,syslog-format=RFC5424)"</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/root-logger=ROOT:add-handler(name=syslog-shipping)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVBdWRpdExvZ2dpbmdUb0ZpbGU">
        <h2 class="heading "><span>Enable Audit Logging To File</span></h2>
    <p  >    <span style="color: #000000;">
You can write the SignServer audit log to a separate file. E.g. to log to <tt class=" ">/opt/wildfly/standalone/log/cesecore-audit.log</tt>, rotate every 128 MB and keep one rotated file:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/size-rotating-file-handler=cesecore-audit-log:add(file={path=cesecore-audit.log, relative-to=jboss.server.log.dir}, max-backup-index=1, rotate-size=128m)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore.audit.impl.log4j.Log4jDevice:add'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore.audit.impl.log4j.Log4jDevice:add-handler(name=cesecore-audit-log)'</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1IVFRQKFMpQ29uZmlndXJhdGlvbg">
        <h1 class="heading "><span>HTTP(S) Configuration</span></h1>
    <p  >    <span style="color: #000000;">
The following section explains how to configure HTTP(S) using Undertow.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVFeGlzdGluZ1RMU2FuZEhUVFBDb25maWd1cmF0aW9u">
        <h2 class="heading "><span>Remove Existing TLS and HTTP Configuration</span></h2>
    <p  >    <span style="color: #000000;">
Run the following commands in JBoss CLI to remove existing TLS and HTTP configuration:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=default:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=https:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=http:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=https:remove()'</code></div>
<div class="line"><code class="plain"># These two lines are not needed </code><code class="keyword">if</code><code class="plain"> Galleon was used</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Vc2UzLVBvcnRTZXBhcmF0aW9u">
        <h2 class="heading "><span>Use 3-Port Separation</span></h2>
    <p  >    <span style="color: #000000;">
The following section explains how to set up Undertow with 3-port separation. Port 8080 is used for HTTP (unencrypted traffic), port 8442 for HTTPS (encrypted) traffic with only server authentication and port 8443 for HTTPS (encrypted) traffic with both server and client authentication.    </span>
    </p>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGROZXdJbnRlcmZhY2VzYW5kU29ja2V0cw">
        <h3 class="heading "><span>Add New Interfaces and Sockets</span></h3>
    <p  >    <span style="color: #000000;">
To add new interfaces and sockets, use the following:<br/>    </span>
    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >    <span style="color: #000000;">
Consider binding to a specific interface instead of binding to all interfaces using <tt class=" ">0.0.0.0</tt>.    </span>
    </p>
        </div>
    </div>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/interface=http:add(inet-address="0.0.0.0")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/interface=httpspub:add(inet-address="0.0.0.0")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/interface=httpspriv:add(inet-address="0.0.0.0")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=http:add(port="8080",interface="http")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=httpspub:add(port="8442",interface="httpspub")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=httpspriv:add(port="8443",interface="httpspriv")'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVUTFM">
        <h3 class="heading "><span>Configure TLS</span></h3>
    <p  >    <span style="color: #000000;">
Configure TLS according to the following instructions.    </span>
    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >    <span style="color: #000000;">
Make sure the password of the keystore and truststore in this section are correct, in order for the deployment not to fail. In production the passwords should be changed to &quot;real&quot; passwords.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Note that TLS v1.3 is only available when running JDK 11 or greater.    </span>
    </p>
        </div>
    </div>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=httpsKeystorePassword, secret-value="serverpwd")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=httpsTruststorePassword, secret-value="changeit")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsKS:add(path="keystore/keystore.jks",relative-to=jboss.server.config.dir,credential-reference={store=defaultCS, alias=httpsKeystorePassword},type=JKS)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsTS:add(path="keystore/truststore.jks",relative-to=jboss.server.config.dir,credential-reference={store=defaultCS, alias=httpsTruststorePassword},type=JKS)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-manager=httpsKM:add(key-store=httpsKS,algorithm="SunX509",credential-reference={store=defaultCS, alias=httpsKeystorePassword})'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/trust-manager=httpsTM:add(key-store=httpsTS)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/server-ssl-context=httpspub:add(key-manager=httpsKM,protocols=["TLSv1.3","TLSv1.2"],use-cipher-suites-order=false,cipher-suite-filter="TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256",cipher-suite-names="TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/server-ssl-context=httpspriv:add(key-manager=httpsKM,protocols=["TLSv1.3","TLSv1.2"],use-cipher-suites-order=false,cipher-suite-filter="TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256",cipher-suite-names="TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256",trust-manager=httpsTM,need-client-auth=true)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRIVFRQKFMpTGlzdGVuZXJz">
        <h3 class="heading label"><span>Add HTTP(S) Listeners</span></h3>
    <p  class="label">    <span style="color: #000000;">
To add HTTP(S) listeners:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=http:add(socket-binding="http", redirect-socket="httpspriv")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=httpspub:add(socket-binding="httpspub", ssl-context="httpspub", max-parameters=2048)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=httpspriv:add(socket-binding="httpspriv", ssl-context="httpspriv", max-parameters=2048)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="subsubsection">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmV0aGVGaXJld2FsbA">
        <h3 class="heading subsubsection"><span>Configure the Firewall</span></h3>
    <p  >    <span style="color: #000000;">
Open port 8080, 8442 and 8443 for incoming TCP traffic.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">Open ports in RHEL / CentOS</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Open ports in RHEL / CentOS" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">systemctl enable firewalld --now</code></div>
<div class="line"><code class="plain">firewall-cmd --set-</code><code class="keyword">default</code><code class="plain">-zone=dmz</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">8080</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">8442</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">8443</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --reload</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Vc2UyLVBvcnRTZXBhcmF0aW9uMnBvcnRzZXBhcmF0aW9u">
        <h2 class="heading "><span>Use 2-Port Separation </span></h2>
    <p  >    <span style="color: #000000;">
The following section explains how to set up Undertow with 2-port separation. Port 8080 is used for HTTP (unencrypted traffic) and port 8443 is used for HTTPS (encrypted) traffic with optional client authentication.    </span>
    </p>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGROZXdJbnRlcmZhY2VzYW5kU29ja2V0cy4x">
        <h3 class="heading "><span>Add New Interfaces and Sockets</span></h3>
    <p  >    <span style="color: #000000;">
To add new interfaces and sockets, use the following:<br/>    </span>
    </p>
    <div  class="confbox admonition admonition-warning">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >    <span style="color: #000000;">
Consider binding to a specific IP instead of binding to all interfaces using <tt class=" ">0.0.0.0</tt>.    </span>
    </p>
        </div>
    </div>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/interface=http:add(inet-address="0.0.0.0")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/interface=https:add(inet-address="0.0.0.0")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=http:add(port="8080",interface="http")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=https:add(port="8443",interface="https")'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVUTFMuMQ">
        <h3 class="heading "><span>Configure TLS</span></h3>
    <p  >    <span style="color: #000000;">
Configure TLS according to the following instructions.    </span>
    </p>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >    <span style="color: #000000;">
Make sure the password of the keystore and truststore in this section are correct, in order for the commands not to fail. In production the passwords should be changed to &quot;real&quot; passwords.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Note that TLS v1.3 is only available when running JDK 11 or greater.    </span>
    </p>
        </div>
    </div>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=httpsKeystorePassword, secret-value="serverpwd")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=httpsTruststorePassword, secret-value="changeit")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsKS:add(path="keystore/keystore.p12",relative-to=jboss.server.config.dir,credential-reference={store=defaultCS, alias=httpsKeystorePassword},type=PKCS12)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsTS:add(path="keystore/truststore.p12",relative-to=jboss.server.config.dir,credential-reference={store=defaultCS, alias=httpsTruststorePassword},type=PKCS12)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/key-manager=httpsKM:add(key-store=httpsKS,algorithm="SunX509",credential-reference={store=defaultCS, alias=httpsKeystorePassword})'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/trust-manager=httpsTM:add(key-store=httpsTS)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/server-ssl-context=https:add(key-manager=httpsKM,protocols=["TLSv1.3","TLSv1.2"],use-cipher-suites-order=false,cipher-suite-filter="TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256",cipher-suite-names="TLS_AES_256_GCM_SHA384:TLS_AES_128_GCM_SHA256:TLS_CHACHA20_POLY1305_SHA256",trust-manager=httpsTM,want-client-auth=true,authentication-optional=true)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRIVFRQKFMpTGlzdGVuZXJzLjE">
        <h3 class="heading "><span>Add HTTP(S) Listeners</span></h3>
    <p  class="label">    <span style="color: #000000;">
To add HTTP(S) listeners:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=http:add(socket-binding="http", redirect-socket="https")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=https:add(socket-binding="https", ssl-context="https", max-parameters=2048)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="subsubsection">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-3" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmV0aGVGaXJld2FsbC4x">
        <h3 class="heading subsubsection"><span>Configure the Firewall</span></h3>
    <p  >    <span style="color: #000000;">
Open port 8080 and 8443 for incoming TCP traffic.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">Open ports in RHEL / CentOS</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Open ports in RHEL / CentOS" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">systemctl enable firewalld --now</code></div>
<div class="line"><code class="plain">firewall-cmd --set-</code><code class="keyword">default</code><code class="plain">-zone=dmz</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">8080</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">8443</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --reload</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Alternatively, you may open port 80 and port 443 and redirect traffic to 8080 and 8443 respectively.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">Set up NAT in RHEL / CentOS</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="Set up NAT in RHEL / CentOS" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">systemctl enable firewalld --now</code></div>
<div class="line"><code class="plain">firewall-cmd --set-</code><code class="keyword">default</code><code class="plain">-zone=dmz</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">80</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --zone=dmz --permanent --add-port </code><code class="value">443</code><code class="plain">/tcp</code></div>
<div class="line"><code class="plain">firewall-cmd --permanent --add-forward-port=port=</code><code class="value">80</code><code class="plain">:proto=tcp:toport=</code><code class="value">8080</code></div>
<div class="line"><code class="plain">firewall-cmd --permanent --add-forward-port=port=</code><code class="value">443</code><code class="plain">:proto=tcp:toport=</code><code class="value">8443</code></div>
<div class="line"><code class="plain">firewall-cmd --reload</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Vc2VhbkhTTQ">
        <h2 class="heading label"><span>Use an HSM</span></h2>
    <p  >    <span style="color: #000000;">
You can store the private key for the TLS client certificate in an HSM instead for improved security and performance. WildFly contains the Sun PKCS11 provider which can be used to talk to the HSM using PKCS#11.    </span>
    </p>
    <p  >    <span style="color: #000000;">
First, create a Sun PKCS11 configuration file according to the following Jinja2 template. Consult your HSM vendor for details on how to set PKCS#11 attributes.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">/opt/wildfly/standalone/configuration/pkcs11.cfg</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="/opt/wildfly/standalone/configuration/pkcs11.cfg" data-linenumbers="true" data-firstline="1">
<div class="line"><code class="plain">name = HSM</code></div>
<div class="line"><code class="plain">library = {{ PKCS11_LIBRARY }}</code></div>
<div class="line"><code class="plain">slot = {{ SLOT_NUMBER }}</code></div>
<div class="line"><code class="plain">attributes(*, CKO_PUBLIC_KEY, *) = {</code></div>
<div class="line"><code class="plain">  CKA_TOKEN = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">  CKA_ENCRYPT = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">  CKA_VERIFY = </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  CKA_WRAP = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">}</code></div>
<div class="line"><code class="plain">attributes(*, CKO_PRIVATE_KEY, *) = {</code></div>
<div class="line"><code class="plain">  CKA_TOKEN = </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  CKA_PRIVATE = </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  CKA_SENSITIVE = </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  CKA_EXTRACTABLE = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">  CKA_DECRYPT = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">  CKA_SIGN = </code><code class="keyword">true</code></div>
<div class="line"><code class="plain">  CKA_UNWRAP = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">  CKA_DERIVE = </code><code class="keyword">false</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Make the file readable by WildFly.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">chown wildfly:wildfly /opt/wildfly/standalone/configuration/pkcs11.cfg</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Store the token PIN in your credential store.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/credential-store=defaultCS:add-alias(alias=hsm,secret-value=123456)'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Create a provider loader and keystore for the Sun PKCS11 provider.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/provider-loader=pkcs11:add(class-names=[sun.security.pkcs11.SunPKCS11],path=pkcs11.cfg,relative-to=jboss.server.config.dir,module=sun.jdk)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsKSInHSM:add(credential-reference={store=defaultCS, alias=hsm},type=PKCS11,providers=pkcs11)'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Generate a keypair and create a CSR using JBoss CLI. The CSR is stored in <tt class=" ">/opt/wildfly/standalone/configuration/keystore</tt>.    </span>
    </p>
    <div  class="confbox programlisting">
                    <div class="title">RSA key</div>
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-title="RSA key" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsKSInHSM:generate-key-pair(alias=tlsKey0001, distinguished-name="CN=hostname", algorithm=RSA, key-size=2048)'</code><code class="plain"> </code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect '/subsystem=elytron/key-store=httpsKSInHSM:generate-certificate-signing-request(alias=tlsKey0001, path=keystore/csr.pem, relative-to=jboss.server.config.dir, signature-algorithm=SHA256withRSA)</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Issue the certificate from your favourite CA and put the certificate chain next to the CSR. Then install it on the token:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=elytron/key-store=httpsKSInHSM:import-certificate(alias=tlsKey0001, path=keystore/chain.pem, relative-to=jboss.server.config.dir)'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Switch to the HSM keystore.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/subsystem=elytron/key-manager=httpsKM:write-attribute(name=key-store,value=httpsKSInHSM)</code></div>
<div class="line"><code class="plain">/subsystem=elytron/key-manager=httpsKM:write-attribute(name=credential-reference,value={store=defaultCS, alias=hsm})</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Db25maWd1cmVXZWJTZXJ2aWNlc1dTRExMb2NhdGlvblJld3JpdGU">
        <h1 class="heading "><span>Configure Web Services WSDL Location Rewrite</span></h1>
    <p  >In order for the web services to work correctly in cases when the client reads the endpoint address from the Web Services Description Language (WSDL) and uses client certificate or a different port, you need to configure the WSDL web-host rewriting to use the request host.    </p>
    <p  >To configure the WSDL location, run:    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=webservices:write-attribute(name=wsdl-host, value=jbossws.undefined.host)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=webservices:write-attribute(name=modify-wsdl-address, value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1PcHRpb25hbENvbmZpZ3VyYXRpb24">
        <h1 class="heading label"><span>Optional Configuration</span></h1>
    <p  >    <span style="color: #000000;">
The following sections cover optional configurations.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVXZWxjb21lQ29udGVudA">
        <h2 class="heading label"><span>Remove Welcome Content</span></h2>
    <p  class="label">    <span style="color: #000000;">
Removes the hardcoded welcome page in WildFly. This is not needed if Galleon was used.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/location="\/":remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/configuration=handler/file=welcome-content:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="subsubsection">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    <p  class="subsubsection">    <span style="color: #000000;">
You can also remove the actual files and save some disk space with:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">rm -rf /opt/wildfly/welcome-content/</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZWRpcmVjdHRvQXBwbGljYXRpb25mb3JVbmtub3duVVJMcw">
        <h2 class="heading label"><span>Redirect to Application for Unknown URLs</span></h2>
    <p  >    <span style="color: #000000;">
Known URLs for SignServer starts with <tt class=" ">/signserver</tt> according to the following example:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/rewrite=redirect-to-app:add(redirect=true,target="/signserver/")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/filter-ref=redirect-to-app:add(priority=1,predicate="method(GET) and not path-prefix(/signserver) and not equals({\%{LOCAL_PORT}, 4447})")'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVIVFRQU3RyaWN0VHJhbnNwb3J0TGF5ZXJTZWN1cml0eQ">
        <h2 class="heading label"><span>Enable HTTP Strict Transport Layer Security</span></h2>
    <p  >    <span style="color: #000000;">
The <tt class=" ">HTTP</tt> <tt class=" ">Strict-Transport-Security</tt> response header (HSTS) defined in RFC 6797 tells the browser to only access the server using HTTPS. If you are not serving any resources on the domain over HTTP, you can enable this to improve security. Start off with a small <tt class=" ">max-age</tt> value (such as 60 seconds) and then gradually increase.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/response-header=hsts:add(header-name="Strict-Transport-Security",header-value="max-age=31536000")'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
You should also redirect any HTTP traffic to HTTPS. The example assumes port 80 is used for HTTP, port 443 for HTTPS and that the server can be accessed using the domain name <tt class=" ">example.com</tt>.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/rewrite=http-to-https:add(redirect="true",target="https://example.com:443%U")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/filter-ref=http-to-https:add(predicate="equals(%p,80)")'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVPQ1NQUmV2b2NhdGlvbkNoZWNraW5n">
        <h2 class="heading label"><span>Enable OCSP Revocation Checking</span></h2>
    <p  >    <span style="color: #000000;">
WildFly can check the validity of client certificates against the OCSP responder defined by the certificate&#39;s AIA extension:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=elytron/trust-manager=httpsTM:write-attribute(name=ocsp, value={})'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="label">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmV0aGVFeGFtcGxlRFNEYXRhc291cmNl">
        <h2 class="heading label"><span>Remove the ExampleDS Datasource</span></h2>
    <p  >    <span style="color: #000000;">
You can remove the ExampleDS datasource as it is not being used. This is not needed if Galleon was used.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=ee/service=default-bindings:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'data-source remove --name=ExampleDS'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="subsubsection">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVVbnVzZWRTdWJzeXN0ZW1zYW5kRXh0ZW5zaW9ucw">
        <h2 class="heading label"><span>Remove Unused Subsystems and Extensions</span></h2>
    <p  >    <span style="color: #000000;">
Optionally remove the unused subsystems and extensions. This is not needed if Galleon was used.    </span>
    </p>
    <p  >    <span style="color: #000000;">
If you used the <i class=" ">Jakarta EE Full &amp; Web Distribution</i> zip package:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=jdr:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=sar:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=jmx:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=pojo:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=microprofile-metrics-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=microprofile-jwt-smallrye:remove()'</code><code class="plain"> </code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=ee-security:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=microprofile-health-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=microprofile-opentracing-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=distributable-web:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=security/security-domain=jaspitest:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/jdbc-driver=h2:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=microprofile-config-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=request-controller:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=security-manager:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.microprofile.config-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.microprofile.metrics-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.microprofile.jwt-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.clustering.web:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.microprofile.health-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.microprofile.opentracing-smallrye:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.jboss.as.jdr:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.jboss.as.jmx:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.jboss.as.sar:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.jboss.as.pojo:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.ee-security:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.request-controller:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/extension=org.wildfly.extension.security.manager:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  class="subsubsection">    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVBSlA">
        <h2 class="heading label"><span>Remove AJP</span></h2>
    <p  >    <span style="color: #000000;">
Clean up all AJP related configuration if you are not using it.<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/socket-binding-group=standard-sockets/socket-binding=ajp:remove()'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVBSlBDb25uZWN0b3I">
        <h2 class="heading label"><span>Enable AJP Connector</span></h2>
    <p  class="label">    <span style="color: #000000;">
Enabling the AJP connector is only needed if you terminate the TLS connection at a proxy (such as Apache or nginx) running in front of WildFly:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/ajp-listener=ajp-listener:add(socket-binding=ajp, scheme=https, enabled=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1BZGRhUmVxdWVzdExpbWl0ZXI">
        <h2 class="heading "><span>Add a Request Limiter</span></h2>
    <p  >    <span style="color: #000000;">
You can limit the number of concurrent connections by adding a request limiter in Undertow. For example, to allow 100 connections to be processed at the same time, and allow up to 300 connections to be queued before new connections are rejected:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/request-limit=signserver-request-limiter:add(max-concurrent-requests=100,queue-size=300)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/filter-ref=signserver-request-limiter:add(predicate=path-prefix(/signserver)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZXN0cmljdEFjY2Vzc3RvU2VydmljZXM">
        <h2 class="heading "><span>Restrict Access to Services</span></h2>
    <p  >    <span style="color: #000000;">
You can whitelist IP addresses or block access to some services completely using predicates and handlers in Undertow.    </span>
    </p>
    <p  >    <span style="color: #000000;">
For example, to only allow access to the adminstration web from localhost:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/expression-filter=local-only:add(expression="ip-access-control(acl={127.0.0.0/8 allow})")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/filter-ref=local-only:add(predicate="path-prefix(/signserver/adminweb)")'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
To block access to the public web pages and the SignServer documentation:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/configuration=filter/expression-filter=not-found:add(expression="response-code(404)")'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/host=default-host/filter-ref=not-found:add(predicate="path-prefix(/signserver/doc) or path(/signserver)")'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Pbmx5RGVwbG95YXRTdGFydHVw">
        <h2 class="heading "><span>Only Deploy at Startup</span></h2>
    <p  >    <span style="color: #000000;">
Historically application servers are really bad at cleaning up memory from previous deployments and hot (re-)deploy is discouraged in production. To avoid manual deployment with the management interface, we can specify that the deployment directory should be scanned once at application server startup by setting the scan-interval to 0. This also prevents an attacker from loading a malicious JAR file by dropping it in the <tt class=" ">deployments</tt> directory.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=deployment-scanner/scanner=default:write-attribute(name=scan-interval,value=0)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1JbmNyZWFzZXRoZURlcGxveW1lbnRUaW1lb3V0">
        <h2 class="heading subsubsection"><span>Increase the Deployment Timeout</span></h2>
    <p  >    <span style="color: #000000;">
If you are using HSMs with smart card authentication or if the database needs to reindex when WildFly boots, you may have to increase the deployment timeout to be able to deploy SignServer correctly. The deployment timeout is specified in seconds, the command below sets it to 5 minutes.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=deployment-scanner/scanner=default:write-attribute(name=deployment-timeout,value=300)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1EaXNhYmxlTWFuYWdlbWVudFdlYkNvbnNvbGU">
        <h2 class="heading subsubsection"><span>Disable Management Web Console</span></h2>
    <p  >    <span style="color: #000000;">
If you only plan on using the JBoss CLI anyway there is little reason to keep this around.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/core-service=management/management-interface=http-interface:write-attribute(name=console-enabled,value=false)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1JbmNyZWFzZXRoZU1heGltdW1VcGxvYWRTaXpl">
        <h2 class="heading "><span>Increase the Maximum Upload Size</span></h2>
    <div  class="confbox admonition admonition-note">
                            <span class="admonition-icon confluence-information-macro-icon"></span>
                <div class="admonition-body">
    <p  >Note that WildFly defaults to an HTTP post size limit of 10 MB. To allow signing larger files, increase the limits on the HTTP/HTTPS listeners using the <tt class=" ">max-post-size</tt> attribute in the following code examples.    </p>
        </div>
    </div>
    <p  >    <span style="color: #000000;">
Increase the maximum size of POST requests to for instance 25 MB. This may be needed if you like to sign larger files.    </span>
    </p>
    <p  >    <span style="color: #000000;">
If 3-port separation is used, increase the maximum upload size for the 3 listeners.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=http:write-attribute(name=max-post-size,value=25485760)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=httpspriv:write-attribute(name=max-post-size,value=25485760)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=httpspub:write-attribute(name=max-post-size,value=25485760)'</code><code class="plain"> </code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
If 2-port separation is used, increase the maximum upload size for the 2 listeners instead.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/http-listener=http:write-attribute(name=max-post-size,value=25485760)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=undertow/server=default-server/https-listener=https:write-attribute(name=max-post-size,value=25485760)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVXaWxkRmx5QXVkaXRMb2dnaW5n">
        <h2 class="heading "><span>Enable WildFly Audit Logging</span></h2>
    <p  >    <span style="color: #000000;">
WildFly can audit log changes made to the management model and output audit log events in JSON format to the file <tt class=" ">/opt/wildfly/standalone/data/audit-log.log</tt>. Audit logging is disabled by default. To enable it, run:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/core-service=management/access=audit/logger=audit-log:write-attribute(name=enabled,value=true)'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZW1vdmVXaWxkRmx5QXVkaXRMb2dnaW5n">
        <h2 class="heading "><span>Remove WildFly Audit Logging</span></h2>
    <p  >    <span style="color: #000000;">
You may remove the WildFly audit logging configuration completely if you are not using it.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/core-service=management/access=audit:remove()'</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1TdGFydFdpbGRGbHlvblN5c3RlbUJvb3Q">
        <h2 class="heading "><span>Start WildFly on System Boot</span></h2>
    <p  >    <span style="color: #000000;">
To make SignServer available automatically after a system restart, use systemd.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">systemctl enable wildfly</code></div>
</div>
    </div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1QZXJmb3JtYW5jZVR1bmluZw">
        <h1 class="heading "><span>Performance Tuning</span></h1>
    <p  >    <span style="color: #000000;">
The following section covers WildFly configuration for maximizing SignServer performance. The best setup could vary from installation to installation and should be manually fine-tuned. However, the &quot;default&quot; configuration would typically be a good starting point. You should also consider increasing the heap (RAM) for SignServer instances under high load to at least 4 GB.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=io/worker=default/:write-attribute(name=task-core-threads,value=25)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=io/worker=default/:write-attribute(name=task-max-threads,value=100)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=io/worker=default/:write-attribute(name=io-threads,value=100)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=ejb3/strict-max-bean-instance-pool=slsb-strict-max-pool:undefine-attribute(name=derive-size)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=ejb3/strict-max-bean-instance-pool=slsb-strict-max-pool:write-attribute(name=max-pool-size, value=32)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/data-source=signserverds/:write-attribute(name=max-pool-size,value=150)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">':reload'</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
    <img  class="emoticon emoticon-warning" src="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg" alt="images/s/7clgp7/8703/189cb2l/_/images/icons/emoticons/warning.svg"   />
 Wait for the reload to complete by checking the server log or the result of <strong class=" "><tt class=" ">:read-attribute(name=server-state)</tt></strong> before continuing.    </span>
    </p>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhU25hcHNob3RvZnRoZUNvbmZpZ3VyYXRpb24">
        <h1 class="heading "><span>Create a Snapshot of the Configuration</span></h1>
    <p  >    <span style="color: #000000;">
Create a snapshot of the current configuration to make sure you can revert back to a working state.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">':take-snapshot(name="Initial configuration")'</code></div>
<div class="line"><code class="functions">cp</code><code class="plain"> </code><code class="plain">/opt/wildfly/standalone/configuration/standalone</code><code class="plain">.xml </code><code class="plain">/opt/wildfly/standalone/configuration/standalone</code><code class="plain">.xml.backup</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DcmVhdGVhVGVybWluYWxBbGlhc2ZvclJlYWRpbmd0aGVMb2dGaWxl">
        <h1 class="heading "><span>Create a Terminal Alias for Reading the Log File</span></h1>
    <p  >    <span style="color: #000000;">
SignServer is logging all actions to the WildFly log file located in <tt class=" ">/opt/wildfly/standalone/log/server.log</tt>. It is often useful to be able to quickly filter and inspect the latest log lines. If you are using Fish you can add the following function to your <tt class=" ">config.fish</tt>:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="keyword">function</code><code class="plain"> wflog --description </code><code class="string">'Tail and optionally filter the WildFly log file'</code></div>
<div class="line"><code class="plain">    </code><code class="functions">tail</code><code class="plain"> -f </code><code class="plain">/opt/wildfly/standalone/log/server</code><code class="plain">.log | \</code></div>
<div class="line"><code class="plain">        </code><code class="functions">awk</code><code class="plain"> '</code><code class="plain">/TRACE/</code><code class="plain"> {print </code><code class="string">"\033[93m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/DEBUG/</code><code class="plain"> {print </code><code class="string">"\033[0;32m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/INFO/</code><code class="plain"> {print </code><code class="string">"\033[0;34m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/WARN/</code><code class="plain"> {print </code><code class="string">"\033[0;33m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/ERROR/</code><code class="plain"> {print </code><code class="string">"\033[0;31m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/SEVERE/</code><code class="plain"> {print </code><code class="string">"\033[1;31m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             !/(TRACE|DEBUG|INFO|WARN|ERROR|SEVERE)/ {print </code><code class="string">"\033[93m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}' | \</code></div>
<div class="line"><code class="plain">        </code><code class="functions">grep</code><code class="plain"> --line-buffered --color=never -E </code><code class="string">"$argv[1]"</code></div>
<div class="line"><code class="plain">end</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
Or if you are using Bash, add this to your <tt class=" ">.bashrc</tt>:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wflog() { </code></div>
<div class="line"><code class="plain">    </code><code class="functions">tail</code><code class="plain"> -f </code><code class="plain">/opt/wildfly/standalone/log/server</code><code class="plain">.log | \</code></div>
<div class="line"><code class="plain">        </code><code class="functions">awk</code><code class="plain"> '</code><code class="plain">/TRACE/</code><code class="plain"> {print </code><code class="string">"\033[93m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/DEBUG/</code><code class="plain"> {print </code><code class="string">"\033[0;32m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/INFO/</code><code class="plain"> {print </code><code class="string">"\033[0;34m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/WARN/</code><code class="plain"> {print </code><code class="string">"\033[0;33m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/ERROR/</code><code class="plain"> {print </code><code class="string">"\033[0;31m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             </code><code class="plain">/SEVERE/</code><code class="plain"> {print </code><code class="string">"\033[1;31m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}</code></div>
<div class="line"><code class="plain">             !/(TRACE|DEBUG|INFO|WARN|ERROR|SEVERE)/ {print </code><code class="string">"\033[93m"</code><code class="plain"> $0 </code><code class="string">"\033[39m"</code><code class="plain">}' | \</code></div>
<div class="line"><code class="plain">        </code><code class="functions">grep</code><code class="plain"> --line-buffered --color=never -E </code><code class="string">"$argv[1]"</code></div>
<div class="line"><code class="plain">}</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1DbGVhckNvbW1hbmRMaW5lSGlzdG9yeQ">
        <h1 class="heading "><span>Clear Command Line History</span></h1>
    <p  >    <span style="color: #000000;">
Clear the command line history to prevent accidental viewing of passwords put into the credential store.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="functions">history</code><code class="plain"> -c</code></div>
</div>
    </div>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1SZWZlcmVuY2Vz">
        <h1 class="heading "><span>References</span></h1>
    <p  >    <span style="color: #000000;">
The following lists links to references and useful external resources.    </span>
    </p>
<ul class=" "><li class=" ">    <p  ><a  class="external-link" href="https://wildfly-security.github.io/wildfly-elytron/blog/tls-13-with-wildfly/">WildFly Security blog - Elytron: TLS 1.3 with WildFly</a>    <span style="color: #003366;">
    </span>
    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://docs.wildfly.org/18/WildFly_Elytron_Security.html">WildFly Documentation - WildFly Elytron Security</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://docs.wildfly.org/24/wildscribe/index.html">WildFly Full 24 Model Reference</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://docs.wildfly.org/24/Galleon_Guide.html">WildFly Documentation - Galleon Provision Guide</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://docs.wildfly.org/24/Admin_Guide.html">WildFly 24 Admin Guide</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://github.com/wildfly/galleon/blob/master/docs/guide/tool/state.adoc">GitHub - Galleon CLI Tool</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">Mozilla Developer Web Docs, Strict-Transport-Security</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://undertow.io/undertow-docs/undertow-docs-2.0.0/predicates-attributes-handlers.html">Undertow 2.0 Documentation, Predicates Attributes and Handlers</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://github.com/glowroot/glowroot/wiki/Agent-Installation-%28with-Embedded-Collector%29">GitHub - Glowroot Wiki, Agent Installation (with Embedded Collector)</a>    </p>
</li><li class=" ">    <p  ><a  class="external-link" href="https://gist.github.com/mcupak/8c8769392c56cba49a881b1f8b18011b">GitHub Gist - Setting up an access log with WildFly</a>    </p>
</li></ul>    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1OZXh0U3RlcDpJbnN0YWxsU2lnblNlcnZlcg">
        <h1 class="heading "><span>Next Step: Install SignServer </span></h1>
    <p  >    <span style="color: #003366;">
    <span style="color: #000000;">
For instructions on how to install SignServer, see    </span>
 <a   href="Install_SignServer.html">Install SignServer</a><a   href="https://confluence.primekey.com/display/EJBCADS/.Deploying+EJBCA+v7.4.0">.</a>    </span>
    </p>
    </div>
    <div class="section section-1" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1EZWJ1Z1NpZ25TZXJ2ZXI">
        <h1 class="heading "><span>Debug SignServer </span></h1>
    <p  >    <span style="color: #000000;">
The following explains the configuration options in WildFly for troubleshooting SignServer.    </span>
    </p>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Td2l0Y2h0b0RlYnVnTG9nZ2luZ0dsb2JhbGx5">
        <h2 class="heading auto-cursor-target"><span>Switch to Debug Logging Globally</span></h2>
    <p  class="auto-cursor-target">    <span style="color: #000000;">
To enable debug logging globally, if you need to troubleshoot, follow these steps.    </span>
    </p>
<ol class=" "><li class="auto-cursor-target ">    <p  class="auto-cursor-target">    <span style="color: #000000;">
Make a note of the current log level for the packages<tt class=" "> org.cesecore</tt> and <tt class=" ">org.signserver</tt>.<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore:read-attribute(name=level)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.signserver:read-attribute(name=level)'</code></div>
</div>
    </div>
</li><li class="auto-cursor-target ">    <p  class="auto-cursor-target">    <span style="color: #000000;">
Switch to debug logging.    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.signserver:write-attribute(name=level, value=DEBUG)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli</code><code class="plain">.sh --connect </code><code class="string">'/subsystem=logging/logger=org.cesecore:write-attribute(name=level, value=DEBUG)'</code></div>
</div>
    </div>
</li></ol>    <p  >    <span style="color: #000000;">
Once you are done troubelshooting, switch back to the log level you used previously. Note that having debug logging enabled globally will produce a lot of output, avoid using this configuration in production and consider enabling debugging for individual packages instead.    </span>
    </p>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1Mb2dSZXF1ZXN0c2FuZFJlc3BvbnNlc2ZvcnRoZVdlYlNlcnZpY2VBUEk">
        <h2 class="heading "><span>Log Requests and Responses for the WebService API</span></h2>
    <p  >    <span style="color: #000000;">
To log the SOAP messages received by and sent from SignServer:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=org.apache.cxf.logging.enabled:add(value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.apache.cxf.services:add(level=INFO)'</code></div>
<div class="line"><code class="plain">systemctl restart wildfly</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
To remove the configuration when you are done:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=org.apache.cxf.logging.enabled:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.apache.cxf.services:remove'</code></div>
<div class="line"><code class="plain">systemctl restart wildfly</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVIaWJlcm5hdGVTdGF0aXN0aWNz">
        <h2 class="heading "><span>Enable Hibernate Statistics</span></h2>
    <p  >    <span style="color: #000000;">
Hibernate is the ORM library used by SignServer to create SQL queries. You can enable Hibernate statistics to get the SQL query, as well as the time it takes to execute it, written in the server log.    </span>
    </p>
    <p  >    <span style="color: #000000;">
Hibernate statistics are quite verbose and there may be database-specific tools better suited to troubleshoot database performance, however if you want to enable it:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/data-source=signserverds/statistics=pool:write-attribute(name=statistics-enabled,value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/data-source=signserverds/statistics=jdbc:write-attribute(name=statistics-enabled,value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.generate_statistics:add(value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.show_sql:add(value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.format_sql:add(value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.use_sql_comments:add(value=true)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.hibernate.stat:add(level=DEBUG)'</code></div>
<div class="line"><code class="plain">systemctl restart wildfly</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
To remove the configuration:    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=logging/logger=org.hibernate.stat:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.use_sql_comments:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.format_sql:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.show_sql:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/system-property=hibernate.generate_statistics:remove'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/data-source=signserverds/statistics=jdbc:write-attribute(name=statistics-enabled,value=false)'</code></div>
<div class="line"><code class="plain">/opt/wildfly/bin/jboss-cli.sh --connect </code><code class="string">'/subsystem=datasources/data-source=signserverds/statistics=pool:write-attribute(name=statistics-enabled,value=false)'</code></div>
<div class="line"><code class="plain">systemctl restart wildfly</code></div>
</div>
    </div>
    </div>
    <div class="section section-2" id="src-181283782_safe-id-aWQtLldpbGRGbHkyNCwyNixhbmRKQm9zc0VBUDcuNHY2LjAuMC1FbmFibGVQcm9maWxpbmdVc2luZ0dsb3dyb290">
        <h2 class="heading "><span>Enable Profiling Using Glowroot</span></h2>
<ol class=" "><li class=" ">    <p  >    <span style="color: #003366;">
    <span style="color: #000000;">
Download    </span>
 <a  class="external-link" href="https://glowroot.org/">Glowroot</a>     <span style="color: #000000;">
and put it in your WildFly directory.    </span>
<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">wget https:</code><code class="comments">//github.com/glowroot/glowroot/releases/download/v0.13.6/glowroot-0.13.6-dist.zip -O /tmp/glowroot.zip</code></div>
<div class="line"><code class="plain">unzip -q /tmp/glowroot.zip -d /opt/wildfly</code></div>
<div class="line"><code class="plain">chown -R wildfly:wildfly /opt/wildfly/glowroot</code></div>
</div>
    </div>
    <p  >    <span style="color: #000000;">
<br/>    </span>
    </p>
</li><li class=" ">    <p  >    <span style="color: #000000;">
Register Glowroot as a Java agent and restart WildFly.<br/>    </span>
    </p>
    <div  class="confbox programlisting">
                <div xmlns="http://www.w3.org/1999/xhtml" class="defaultnew syntaxhighlighter scroll-html-formatted-code" data-linenumbers="false" data-firstline="1">
<div class="line"><code class="plain">sed -i </code><code class="string">'/-Djdk.tls.ephemeralDHKeySize=2048/ a \ \ \ JAVA_OPTS=\"$JAVA_OPTS -javaagent:/opt/wildfly/glowroot/glowroot.jar"'</code><code class="plain"> /opt/wildfly/bin/standalone.conf</code></div>
<div class="line"><code class="plain">systemctl restart wildfly</code></div>
</div>
    </div>
</li><li class=" ">    <p  >    <span style="color: #000000;">
Glowroot should now be available on    </span>
 <tt class=" ">http://localhost:4000</tt>.    </p>
</li></ol>    </div>
    </div>
        </div>

    </article>


            <nav id="ht-post-nav">
                <a href="Application_Server_Setup.html" class="ht-post-nav-prev">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-prev" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-45.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Application Server Setup</span>
        </a>
                <a href="Install_SignServer.html" class="ht-post-nav-next">
            <svg width="22px" height="22px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="ht-icon-next" sketch:type="MSArtboardGroup">
                    <path fill="#000000" d="M16,8 L16,6 L6,6 L6,16 L8,16 L8,8 L16,8 Z" id="Rectangle-2"
                          sketch:type="MSShapeGroup"
                          transform="translate(11.000000, 11.000000) rotate(-225.000000) translate(-11.000000, -11.000000) "></path>
                </g>
            </svg>
            <span>Install SignServer</span>
        </a>
    </nav>    
            
            <article id="html-search-results" class="ht-content" style="display: none;">
            <header class="ht-content-header">
                <div id="ht-spacetitle">
                    <ul>
                        <li><a href="SignServer_Manual.html">SignServer - Documentation Space</a></li>
                    </ul>
                </div>
                <h1>Search results</h1>
            </header>
            <div id="search-results"></div>
        </article>
    
    <footer id="ht-footer">
    <small>
        Copyright &copy; 2006-2019. PrimeKey Solutions AB. All rights reserved.
    </small>
    <a href="#" id="ht-jump-top" class="sp-aui-icon-small sp-aui-iconfont-arrows-up"></a>
</footer>
</div>

<div>
    <div id="ht-mq-detect"></div>
</div>

    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>

</body>
</html>
