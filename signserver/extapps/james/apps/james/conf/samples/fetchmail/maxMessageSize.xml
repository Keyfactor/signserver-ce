    <!--
        See http://james.apache.org/server/2.3.0/fetchmail_configuration.html"
    --> 
    <fetchmail enabled="false">
        <fetch name="external.domain.com">
            <accounts>
                <account
                    user="user1@external.domain.com" 
                    password="password" 
                    recipient="user1@localhost" 
                    ignorercpt-header="true"/>
                <account                    
                    user="user2@external.domain.com" 
                    password="password" 
                    recipient="user2@localhost" 
                    ignorercpt-header="true"/>
                <account                    
                    user="user3@external.domain.com" 
                    password="password" 
                    recipient="user3@localhost" 
                    ignorercpt-header="true"/>                                                                                  
            </accounts>
            
            <recipientnotfound 
                defer="false" 
                reject="true" 
                leaveonserver="true" 
                markseen="true"/>           

            <host>pop.server.com</host>

            <interval>600000</interval>

            <javaMailProviderName>pop3</javaMailProviderName>

            <javaMailFolderName>INBOX</javaMailFolderName>        

            <fetchall>false</fetchall>

            <recursesubfolders>false</recursesubfolders>
            
            <fetched 
                leaveonserver="false" 
                markseen="true"/>
                
            <undeliverable 
                leaveonserver="true" 
                markseen="true"/>
                
            <maxmessagesize
                limit="4096" 
                reject="false" 
                leaveonserver="true" 
                markseen="false"/>

            <blacklist 
                reject="true" 
                leaveonserver="false" 
                markseen="false">
                wibble@localhost, flobble@localhost 
            </blacklist>
                                                        
            <userundefined 
                reject="true" 
                leaveonserver="true" 
                markseen="true"/>
                        
            <remoterecipient 
                reject="true" 
                leaveonserver="true" 
                markseen="true"/>
        </fetch>
    </fetchmail>        


<!-- Transport processor snippet -->
    <processor name="transport">
        <!-- Check for org.apache.james.fetchmail.isMaxMessageSizeExceeded. -->
        <mailet match="HasMailAttribute=org.apache.james.fetchmail.isMaxMessageSizeExceeded" class="ToProcessor">
            <processor>messageSizeExceeded</processor>
         </mailet>

<!-- All remaining Transport mailets go here as per normal -->

    </processor>


    <!-- This processor handles messages that fetchmail detected as exceeding -->
    <!-- the maximum permitted message size. -->
    <!-- The mail is bounced with the error message generated by fetchmail and -->
    <!-- the message headers added inline. -->
    <processor name="messageSizeExceeded">
         <!-- Remove the isMaxMessageSizeExceeded attribute so that it is not -->
         <!-- propogated by the bounce. -->
         <mailet match="All" class="RemoveMailAttribute">
             <name>org.apache.james.fetchmail.isMaxMessageSizeExceeded</name>
         </mailet>
          <!-- Bounce the mail. -->
          <mailet match="All" class="Bounce">
            <inline>heads</inline>
            <attachment>none</attachment>
            <passThrough>false</passThrough>
            <prefix xml:space="preserve">[REJECTED] </prefix>
         </mailet>
    </processor>
