<?xml version="1.0" encoding="UTF-8"?>
<ironjacamar xmlns="http://www.jboss.org/ironjacamar/schema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.jboss.org/ironjacamar/schema http://www.jboss.org/ironjacamar/schema/ironjacamar_1_0.xsd">
    <connection-definitions>
        <connection-definition class-name="org.signserver.ejbca.peerconnector.PeerManagedConnectionFactory" jndi-name="java:/jca/signserverpeerconnector" pool-name="peerConnectorPool">
            <pool>
                <min-pool-size>1</min-pool-size>
                <max-pool-size>200</max-pool-size>
                <prefill>true</prefill>
                <flush-strategy>FailingConnectionOnly</flush-strategy>

            <!-- 
                <use-strict-min>true</use-strict-min>
                <flush-strategy>IdleConnections</flush-strategy>
<is-same-rm-override>true</is-same-rm-override>
<interleaving />
<no-tx-separate-pools />

             -->
            </pool>
            <!-- Unless this is added, OnePool will be used and ConnectionRequestInfo objects ignored. -->
            <security><application/></security>
            <validation>
                <background-validation>true</background-validation>
                <background-validation-millis>18000</background-validation-millis>
                <use-fast-fail>true</use-fast-fail>
            </validation>
        </connection-definition>
    </connection-definitions>
</ironjacamar>
